<!doctype html><html class="theme-next mist use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css"><meta name="keywords" content="mobile,App,dart,"><link rel="alternate" href="/atom.xml" title="月星墙的博客" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1"><meta name="description" content="简介 Flutter、Flutter Package、Dart、Flutter中文网、Flutter 实战 Flutter 是 Google 推出并开源的移动应用开发框架，主打跨平台、高保真、高性能。开发者可以通过 Dart 语言开发 App，一套代码同时运行在 iOS 和 Android 平台 移动开发中的跨平台技术     AOT和JIT 程序主要有两种运行方式：静态编译与动态解释 静态编译的"><meta name="keywords" content="mobile,App,dart"><meta property="og:type" content="article"><meta property="og:title" content="Flutter"><meta property="og:url" content="http://blog.aezo.cn/2019/11/22/mobile/flutter/index.html"><meta property="og:site_name" content="月星墙的博客"><meta property="og:description" content="简介 Flutter、Flutter Package、Dart、Flutter中文网、Flutter 实战 Flutter 是 Google 推出并开源的移动应用开发框架，主打跨平台、高保真、高性能。开发者可以通过 Dart 语言开发 App，一套代码同时运行在 iOS 和 Android 平台 移动开发中的跨平台技术     AOT和JIT 程序主要有两种运行方式：静态编译与动态解释 静态编译的"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="http://blog.aezo.cn/data/images/lang/mobile-dev.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/ListView横向列表.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/ListView垂直列表.jpg"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/GridView.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/Row_Column_Wrap.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/Flex.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/Stack_Positioned_Align.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/Card.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/Button.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/Scaffold.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/AppBar_TabBar.png"><meta property="og:image" content="http://blog.aezo.cn/2019/11/22/data/images/2024/flutter/Dialog.png"><meta property="og:updated_time" content="2025-10-25T01:58:54.110Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Flutter"><meta name="twitter:description" content="简介 Flutter、Flutter Package、Dart、Flutter中文网、Flutter 实战 Flutter 是 Google 推出并开源的移动应用开发框架，主打跨平台、高保真、高性能。开发者可以通过 Dart 语言开发 App，一套代码同时运行在 iOS 和 Android 平台 移动开发中的跨平台技术     AOT和JIT 程序主要有两种运行方式：静态编译与动态解释 静态编译的"><meta name="twitter:image" content="http://blog.aezo.cn/data/images/lang/mobile-dev.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"right",display:"post",offset:12,offset_float:0,b2t:!1,scrollpercent:!1},fancybox:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"BWD6R9FA4K",apiKey:"3330f3cbaa099dfc30395de5f5b20151",indexName:"blog",hits:{per_page:10},labels:{input_placeholder:"请输入关键字",hits_empty:"我们没有找到任何搜索结果: ${query}",hits_stats:"找到约${hits}条结果（用时${time}ms）"}}}</script><link rel="canonical" href="http://blog.aezo.cn/2019/11/22/mobile/flutter/"><title>Flutter | 月星墙的博客</title><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?085f9cd91ef2ad985f791c677472f0d1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-right page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">月星墙的博客</span><span class="logo-line-after"><i></i></span></a></div><h1 class="site-subtitle" itemprop="description">Better Code, Better Life</h1></div><div class="site-nav-toggle"> <button><span class="btn-bar"></span><span class="btn-bar"></span><span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br> 首页</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br> 分类</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br> 关于</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br> 归档</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br> 标签</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="menu-item-icon fa fa-fw fa-sitemap"></i><br> 站点地图</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br> 搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i></span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"> <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://blog.aezo.cn/2019/11/22/mobile/flutter/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="smalle"><meta itemprop="description" content=""><meta itemprop="image" content="https://avatars0.githubusercontent.com/u/15698218?v=3&u=ce740bf0b67ff0d74990ba6fc644d6e92f572dcb&s=400"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="月星墙的博客"></span><header class="post-header"><h2 class="post-title" itemprop="name headline">Flutter</h2><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-11-22T14:54:00+08:00">2019-11-22</time></span> <span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul><li><a href="https://flutter.dev/" target="_blank" rel="noopener">Flutter</a>、<a href="https://pub.dev/" target="_blank" rel="noopener">Flutter Package</a>、<a href="https://dart.dev/" target="_blank" rel="noopener">Dart</a>、<a href="https://flutter.cn/" target="_blank" rel="noopener">Flutter中文网</a>、<a href="https://book.flutterchina.club/" target="_blank" rel="noopener">Flutter 实战</a></li><li><code>Flutter</code> 是 <code>Google</code> 推出并开源的移动应用开发框架，主打跨平台、高保真、高性能。开发者可以通过 <code>Dart</code> 语言开发 App，一套代码同时运行在 iOS 和 Android 平台</li><li><p>移动开发中的跨平台技术</p><p> <img src="/data/images/lang/mobile-dev.png" alt="mobile-dev"></p></li><li>AOT和JIT<ul><li>程序主要有两种运行方式：静态编译与动态解释</li><li><code>静态编译</code>的程序在执行前全部被翻译为机器码，通常将这种类型称为<code>AOT</code>(Ahead of time)，即”提前编译”</li><li><code>解释执行</code>的则是一句一句边翻译边运行，通常将这种类型称为<code>JIT</code>(Just-in-time)，即”即时编译”</li><li>AOT程序的典型代表是用C/C++开发的应用，它们必须在执行前编译成机器码；而JIT的代表则非常多，如JavaScript、python等，事实上，所有脚本语言都支持JIT模式</li><li>一般认为只要需要编译，无论其编译产物是字节码还是机器码，都属于AOT。如Java、Python，它们可以在第一次执行时编译成中间字节码</li></ul></li><li>Flutter特性<ul><li>基于JIT的快速开发周期：Flutter在开发阶段采用，采用JIT模式</li><li>基于AOT的发布包：Flutter在发布时可以通过AOT生成高效的ARM代码以保证应用性能</li><li>类型安全：由于Dart是类型安全的语言，支持静态类型检测</li></ul></li><li><code>Dart</code>的设计目标应该是同时借鉴了Java和JavaScript。Dart在静态语法方面和Java非常相似，如类型定义、函数声明、泛型等，而在动态特性方面又和JavaScript很像，如函数式特性、异步支持等</li><li>其他如 React-Native、Weex和uni-app</li></ul><h2 id="安装及运行"><a href="#安装及运行" class="headerlink" title="安装及运行"></a>安装及运行</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><ul><li><p>配置环境变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure></li><li><p>安装git</p></li><li><a href="https://github.com/flutter/flutter/releases" target="_blank" rel="noopener">下载Flutter SDK</a>，解压，并将<code>%flutter_home%/bin</code>设置到环境变量，执行<code>flutter doctor</code>看是否成功安装(可运行即可)</li><li><code>Dart SDK</code>已经捆绑在Flutter SDK中，故无需在单独安装Dart SDK</li><li>安装Android SDK，参考<a href="/_posts/lang/android.md#安装">android.md#安装</a></li><li>配置编辑器(任意一种, 均需安装插件Flutter、Dart): Android Studio/IntelliJ IDEA/VS Code<ul><li>vscode 还可安装 Awesome Flutter Snippets 和 Flutter Widget Snippets 的代码提示工具</li><li>AS一般直接打开项目即可，如果 gradle 编译失败可以考虑单独打开项目下的 android 目录，查看编译日志</li></ul></li><li><p>修改<code>%flutter_home%\packages\flutter_tools\gradle\flutter.gradle</code>为国内镜像。否则编译项目报错<code>Error running Gradle</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">repositories &#123;</span><br><span class="line">    <span class="comment">// 替换 google() 为阿里云镜像</span></span><br><span class="line">    maven &#123; url = uri(<span class="string">'https://maven.aliyun.com/repository/google'</span>) &#125;</span><br><span class="line">    <span class="comment">// 替换 mavenCentral() 为阿里云镜像</span></span><br><span class="line">    maven &#123; url = uri(<span class="string">'https://maven.aliyun.com/repository/central'</span>) &#125;</span><br><span class="line">    <span class="comment">// 可选：添加阿里云的公共仓库（包含 jcenter 等镜像）</span></span><br><span class="line">    maven &#123; url = uri(<span class="string">'https://maven.aliyun.com/repository/public'</span>) &#125;</span><br><span class="line">    maven &#123; url = uri(<span class="string">'https://maven.aliyun.com/repository/gradle-plugin'</span>) &#125;</span><br><span class="line">    <span class="comment">// 保留官方仓库作为兜底</span></span><br><span class="line">    google()</span><br><span class="line">    mavenCentral()</span><br><span class="line">    gradlePluginPortal()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>如果仍然无法下载依赖，则修改项目目录的<code>android/build.gradle</code>文件，在<code>buildscript.repositories</code>和<code>allprojects.repositories</code>(建议也要配置一下)同上述一样修改。(出现于需要安装系统尚未安装的Android SDK版本)</li></ul></li><li>真机调试<ul><li>USB连接必须选择传输文件或者MTP(多媒体传输)</li><li>手机设置开启USB调试</li><li><code>flutter devices</code> 查看设备</li></ul></li></ul><h3 id="Mac安装"><a href="#Mac安装" class="headerlink" title="Mac安装"></a>Mac安装</h3><ul><li>下载 SDK: <a href="https://docs.flutter.cn/install/archive" target="_blank" rel="noopener">https://docs.flutter.cn/install/archive</a></li><li><p>配置环境变量并生效 <code>source .bash_profile</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> FLUTTER_ROOT=/Users/xxx/data/others/flutter-sdk/flutter-3.24.5</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:<span class="variable">$FLUTTER_ROOT</span>/bin</span><br><span class="line"><span class="built_in">export</span> PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line"><span class="built_in">export</span> FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure></li><li><p>执行<code>flutter doctor</code> 提示需要适配 xcode</p></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">brew install cocoapods</span><br><span class="line">pod setup</span><br><span class="line"><span class="comment"># 再次执行检查发现xcode已适配</span></span><br><span class="line">flutter doctor</span><br></pre></td></tr></table></figure><h3 id="运行-vscode"><a href="#运行-vscode" class="headerlink" title="运行(vscode)"></a>运行(vscode)</h3><ul><li><code>flutter create demo01</code> 创建项目</li><li><code>flutter run</code> 进入项目目录即可运行项目，修改代码后在命令行<code>R</code>热加载</li><li><p>debug运行</p><ul><li>打开<code>lib/main.dart</code>，点击<code>运行-启动调试</code>，在底部选择<code>启动程序</code> - <code>Dart &amp; Flutter</code>，此时会自动编译 (或者点击右上角启动按钮下拉 - Start Debugging)<ul><li>期间会提示安装Dart Devtools插件(会自动在浏览器打开类似Vue Devtools的展示页面)</li><li>修改代码后立即 Cmd+S 会自动重新渲染, 或者点击 Debug 刷新按钮</li></ul></li><li><p>或者进入调试界面，点击下拉，选择项目添加配置，此时会在项目中产生<code>.vscode/launch.json</code>文件(或者手动创建)。如下可创建多个调试(可同时启动)</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"0.2.0"</span>,</span><br><span class="line">    <span class="attr">"configurations"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            "name": "simple_material_app", // 调试名称</span><br><span class="line">            "program": "flutter-examples/simple_material_app/lib/main.dart", // 相对项目根目录调试入口文件</span><br><span class="line">            "request": "launch",</span><br><span class="line">            "type": "dart"</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"name"</span>: <span class="string">"using_theme"</span>,</span><br><span class="line">            <span class="attr">"program"</span>: <span class="string">"flutter-examples/using_theme/lib/main.dart"</span>,</span><br><span class="line">            <span class="attr">"request"</span>: <span class="string">"launch"</span>,</span><br><span class="line">            <span class="attr">"type"</span>: <span class="string">"dart"</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="flutter-命令"><a href="#flutter-命令" class="headerlink" title="flutter 命令"></a>flutter 命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">flutter -h</span><br><span class="line">flutter --version <span class="comment"># Flutter 3.24.5, Dart 3.5.4</span></span><br><span class="line"><span class="comment"># 检查flutter环境</span></span><br><span class="line">flutter doctor</span><br><span class="line"></span><br><span class="line"><span class="comment">## 项目根目录执行</span></span><br><span class="line"><span class="comment"># 根据 pubspec.yaml 获取依赖包</span></span><br><span class="line">flutter packages get</span><br><span class="line"><span class="comment"># 运行项目。r/R 重新加载(热加载)</span></span><br><span class="line">flutter run</span><br><span class="line">flutter run -d emulator-5554</span><br></pre></td></tr></table></figure><h2 id="Flutter语法"><a href="#Flutter语法" class="headerlink" title="Flutter语法"></a>Flutter语法</h2><h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><ul><li>参考: main17</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 普通的路由跳转</span></span><br><span class="line">Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; <span class="function"><span class="keyword">const</span> <span class="title">HomePage</span><span class="params">()</span>))</span>;</span><br><span class="line">Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; <span class="function"><span class="keyword">const</span> <span class="title">UserPage</span><span class="params">(title: <span class="string">'个人中心'</span>)</span>))</span>;</span><br><span class="line"><span class="comment">// 普通的路由跳转: 返回上一页</span></span><br><span class="line">Navigator.pop(context);</span><br><span class="line"><span class="comment">// 返回到根路由, 并清空路由栈</span></span><br><span class="line">Navigator.of(context).pushAndRemoveUntil(</span><br><span class="line">    MaterialPageRoute(builder: (BuildContext context) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">const</span> <span class="title">MyIndex</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;),</span><br><span class="line">    (route) =&gt; <span class="keyword">false</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义路由跳转(需定义 routes 对象, 如果需要传递参数需结合 onGenerateRoute, 参考下文)</span></span><br><span class="line">Navigator.pushNamed(context, <span class="string">"/user"</span>, arguments: &#123;<span class="string">"name"</span>: <span class="string">"张三"</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 替换路由: 把当前页面的路由替换为新的路由</span></span><br><span class="line">Navigator.pushReplacementNamed(context, <span class="string">"/user"</span>);</span><br></pre></td></tr></table></figure><ul><li>自定义路由相关</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="built_in">Map</span>&lt;<span class="built_in">String</span>, <span class="built_in">Function</span>&gt; routes = &#123;</span><br><span class="line">  <span class="string">'/'</span>: (contxt) =&gt; <span class="keyword">const</span> MyIndex(),</span><br><span class="line">  <span class="string">'/home'</span>: (contxt) =&gt; <span class="keyword">const</span> HomePage(),</span><br><span class="line">  <span class="string">'/user'</span>: (context, &#123;arguments = <span class="keyword">const</span> &#123;<span class="string">"name"</span>: <span class="string">"默认用户"</span>&#125;&#125;) =&gt; UserPage(title: <span class="string">"用户页面"</span>, arguments: arguments),</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> onGenerateRoute = (RouteSettings settings) &#123;</span><br><span class="line">  <span class="comment">// 统一路由处理, 实现自定义路由参数传递, 权限验证等</span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span>? name = settings.name;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Function</span>? pageContentBuilder = routes[name];</span><br><span class="line">  <span class="keyword">if</span> (pageContentBuilder != <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="comment">// MaterialPageRoute 默认的路由风格(遵循 android 和 ios 平台自己的风格); CupertinoPageRoute 按照ios的路由风格</span></span><br><span class="line">    <span class="keyword">if</span> (settings.arguments != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">final</span> Route route = CupertinoPageRoute(</span><br><span class="line">          builder: (context) =&gt;</span><br><span class="line">              pageContentBuilder(context, arguments: settings.arguments));</span><br><span class="line">      <span class="keyword">return</span> route;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">final</span> Route route =</span><br><span class="line">          CupertinoPageRoute(builder: (context) =&gt; pageContentBuilder(context));</span><br><span class="line">      <span class="keyword">return</span> route;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">MaterialApp(</span><br><span class="line">    <span class="comment">// home: const MyIndex(), // 定义了自定义路由则不能再定义home</span></span><br><span class="line">    <span class="comment">// routes: routes, // 定义了初始路由和拦截器则不用定义routes</span></span><br><span class="line">    initialRoute: <span class="string">'/'</span>, <span class="comment">// 初始路由</span></span><br><span class="line">    onGenerateRoute: onGenerateRoute, <span class="comment">// 路由拦截器</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="Key"><a href="#Key" class="headerlink" title="Key"></a>Key</h3><ul><li>组件在更新的时候，其状态的保存主要是通过判断组件的类型或者 key 值是否一致</li><li>Key分类<ul><li>局部键 LocalKey: ValueKey、ObjectKey、UniqueKey</li><li>全局建 GlobalKey</li></ul></li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 类一般都要定义 key, 如:</span></span><br><span class="line">MyBox(&#123;<span class="keyword">super</span>.key, required <span class="keyword">this</span>.color&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==&gt; 局部键 LocalKey</span></span><br><span class="line">ValueKey(<span class="number">1</span>)</span><br><span class="line">ObjectKey(MyBox(color: Colors.green))</span><br><span class="line">UniqueKey() <span class="comment">// 程序自动生成一个key</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ==&gt; 全局建 GlobalKey</span></span><br><span class="line"><span class="keyword">final</span> GlobalKey _globalKey = GlobalKey();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ==&gt; 根据全局建获取子组件信息</span></span><br><span class="line"><span class="comment">// 获取子组件状态</span></span><br><span class="line"><span class="keyword">var</span> state = (_globalKey.currentState <span class="keyword">as</span> _MyBoxState);</span><br><span class="line"><span class="built_in">print</span>(state._count); <span class="comment">// 0</span></span><br><span class="line">setState(() &#123;</span><br><span class="line">    state._count++;</span><br><span class="line">&#125;);</span><br><span class="line">state._run(); <span class="comment">// run...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取子组件Widget(属性)</span></span><br><span class="line"><span class="keyword">var</span> box = (_globalKey.currentWidget <span class="keyword">as</span> MyBox);</span><br><span class="line"><span class="built_in">print</span>(box.color); <span class="comment">// MaterialColor(primary value: Color(0xfff44336))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取子组件渲染的属性</span></span><br><span class="line"><span class="keyword">var</span> renderBox = (_globalKey.currentContext!.findRenderObject() <span class="keyword">as</span> RenderBox);</span><br><span class="line"><span class="built_in">print</span>(renderBox.size); <span class="comment">// Size(100.0, 100.0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在数组末尾插入元素/移除某个元素(基于动画)</span></span><br><span class="line">_listGlobalKey.currentState!.insertItem(list.length - <span class="number">1</span>);</span><br><span class="line">_listGlobalKey.currentState!.removeItem(index, (context, animation) &#123;</span><br><span class="line">    list.removeAt(index);</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><ul><li>隐式动画: 组件内部自动处理动画, 如: RotationTransition, ScaleTransition, FadeTransition, SlideTransition 等</li><li>显式动画: 手动控制动画, 如: AnimationController, Animation, Tween 等<ul><li>AnimationController: 动画控制器, 用于控制动画的播放, 暂停, 停止等操作</li><li>Animation: 动画对象, 用于定义动画的属性, 如: 动画的时间, 动画的曲线等</li><li>Tween: 动画插值器, 用于定义动画的起始值和结束值, 并根据动画的进度计算中间值</li><li>Curves: 动画曲线, 用于定义动画的变化速率, 如: Curves.linear, Curves.easeInOut, Curves.bounceInOut 等</li></ul></li><li>组件自带动画: AnimatedList, AnimatedContainer, AnimatedPadding, AnimatedOpacity, AnimatedPositioned, AnimatedDefaultTextStyle 等<ul><li>AnimatedList 和 ListView 的功能大体相似，不同的是， AnimatedList 可以在列表中插入或删除节点时执行一个动画来提高用户体验</li></ul></li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 隐式动画</span></span><br><span class="line">AnimatedList(</span><br><span class="line">    key: globalKey,</span><br><span class="line">    initialItemCount: list.length,</span><br><span class="line">    itemBuilder: (context, index, animation) &#123;</span><br><span class="line">    <span class="comment">// FadeTransition 淡入淡出, ScaleTransition 缩放</span></span><br><span class="line">    <span class="comment">// return FadeTransition(</span></span><br><span class="line">    <span class="comment">//   opacity: animation,</span></span><br><span class="line">    <span class="comment">//   child: _buildItem(context, index),</span></span><br><span class="line">    <span class="comment">// );</span></span><br><span class="line">    <span class="keyword">return</span> ScaleTransition(</span><br><span class="line">        scale: animation,</span><br><span class="line">        child: _buildItem(context, index),</span><br><span class="line">    );</span><br><span class="line">&#125;)</span><br><span class="line">AnimatedContainer(</span><br><span class="line">    duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">1</span>),</span><br><span class="line">    width: flag ? <span class="number">100</span> : <span class="number">200</span>,</span><br><span class="line">    height: flag ? <span class="number">100</span> : <span class="number">200</span>,</span><br><span class="line">    transform: flag ? Matrix4.translationValues(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>) : Matrix4.translationValues(<span class="number">-100</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">    color: flag ? Colors.red : Colors.blue,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显式动画</span></span><br><span class="line"><span class="comment">// with SingleTickerProviderStateMixin</span></span><br><span class="line">late AnimationController animationController;</span><br><span class="line">animationController = AnimationController(</span><br><span class="line">    vsync: <span class="keyword">this</span>,</span><br><span class="line">    duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">1</span>),</span><br><span class="line">    <span class="comment">// lowerBound: 0.3, // 动画执行范围下限. 默认 0</span></span><br><span class="line">    <span class="comment">// upperBound: 0.4, // 动画执行范围上限. 默认 1.0 如 0-1 表示旋转一整圈</span></span><br><span class="line">);</span><br><span class="line">animationController.addListener(() &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"animationController.value: <span class="subst">$&#123;animationController.value&#125;</span>"</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">RotationTransition(</span><br><span class="line">    turns: animationController,</span><br><span class="line">    child: <span class="keyword">const</span> FlutterLogo(size: <span class="number">80</span>),</span><br><span class="line">),</span><br><span class="line"></span><br><span class="line">animationController.repeat(); <span class="comment">// 重复执行动画</span></span><br><span class="line">animationController.forward(); <span class="comment">// 正向执行一次动画</span></span><br><span class="line">animationController.stop();</span><br><span class="line">animationController.reset();</span><br><span class="line">animationController.reverse();</span><br></pre></td></tr></table></figure><h2 id="Dart语法"><a href="#Dart语法" class="headerlink" title="Dart语法"></a>Dart语法</h2><h3 id="变量定义"><a href="#变量定义" class="headerlink" title="变量定义"></a>变量定义</h3><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">List</span> list = [];</span><br><span class="line"><span class="built_in">List</span>&lt;Widget&gt; list2 = [];</span><br><span class="line"><span class="keyword">var</span> list3 = []; <span class="comment">// var 会自动推断类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// late: 延迟初始化变量: 仅在变量首次使用时初始化‌; 空安全迁移‌: 在声明不可为空的变量时，确保后续会进行赋值操作</span></span><br><span class="line">late <span class="built_in">String</span> title;</span><br></pre></td></tr></table></figure><h3 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h3><ul><li>list</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list = <span class="built_in">List</span>.generate(<span class="number">10</span>, (index) &#123;</span><br><span class="line">    <span class="keyword">return</span> index;</span><br><span class="line">&#125;).toList();</span><br></pre></td></tr></table></figure><h3 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h3><h2 id="Flutter基础案例"><a href="#Flutter基础案例" class="headerlink" title="Flutter基础案例"></a>Flutter基础案例</h2><h3 id="目录结构-amp-入口文件"><a href="#目录结构-amp-入口文件" class="headerlink" title="目录结构&amp;入口文件"></a>目录结构&amp;入口文件</h3><ul><li>目录结构<ul><li>android/ios/macos/windows/linux/web 为不同平台的基础文件夹</li><li>lib 为项目 dart 代码夹</li><li>build 编译的临时文件夹</li><li>analysis_options.yaml 代码语法校验(可注释掉)</li><li>pubspec.yaml 依赖的库配置</li></ul></li><li>main01: lib/main.dart 入口文件</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 入口函数</span></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// 启动函数</span></span><br><span class="line">  runApp(<span class="keyword">const</span> Center(</span><br><span class="line">    child: Text(<span class="string">"你好 Flutter"</span>, textDirection: TextDirection.ltr,),</span><br><span class="line">  ));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="MaterialApp和StatelessWidget"><a href="#MaterialApp和StatelessWidget" class="headerlink" title="MaterialApp和StatelessWidget"></a>MaterialApp和StatelessWidget</h3><ul><li>使用 MaterialApp 和 Scaffold 进行装饰</li><li>StatelessWidget 无状态组件, StatefulWidget 有状态组件</li><li>main03</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 代码块 importM</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 入口函数: main</span></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  <span class="comment">// 启动程序: runApp</span></span><br><span class="line">  runApp(</span><br><span class="line">    <span class="comment">// 使用 MaterialApp 和 Scaffold 进行装饰</span></span><br><span class="line">    MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> MyApp(),</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// StatelessWidget 无状态组件, StatefulWidget 有状态组件</span></span><br><span class="line"><span class="comment">// 代码块 statelessW</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Center(</span><br><span class="line">      child: <span class="keyword">const</span> Text(</span><br><span class="line">        <span class="string">"你好 Flutter, 我是自定义组件"</span>,</span><br><span class="line">        textDirection: TextDirection.ltr, <span class="comment">// 文字从左到右排版</span></span><br><span class="line">        style: TextStyle(color: Color.fromARGB(<span class="number">244</span>, <span class="number">244</span>, <span class="number">123</span>, <span class="number">1</span>), fontSize: <span class="number">20</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Container容器和Text文本"><a href="#Container容器和Text文本" class="headerlink" title="Container容器和Text文本"></a>Container容器和Text文本</h3><ul><li>main04</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(</span><br><span class="line">    MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        <span class="comment">// Column 容器: 从上向下排列</span></span><br><span class="line">        body: <span class="keyword">const</span> Column(children: [MyApp(), MyButton(), MyText()]),</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      <span class="comment">// Container容器: 类似div</span></span><br><span class="line">      child: Container(</span><br><span class="line">        width: <span class="number">200</span>,</span><br><span class="line">        height: <span class="number">200</span>,</span><br><span class="line">        alignment: Alignment.center, <span class="comment">// 内容的对齐方式</span></span><br><span class="line">        <span class="comment">// color: Colors.teal, // 背景颜色. 不能同时定义 color 和 decoration</span></span><br><span class="line">        decoration: BoxDecoration(</span><br><span class="line">          color: Colors.teal, <span class="comment">// 背景颜色</span></span><br><span class="line">          border: Border.all(color: Colors.blue, width: <span class="number">2</span>),</span><br><span class="line">          borderRadius: BorderRadius.circular(<span class="number">10</span>), <span class="comment">// 配置圆角</span></span><br><span class="line">          <span class="comment">// 配置阴影</span></span><br><span class="line">          boxShadow: [<span class="keyword">const</span> BoxShadow(color: Colors.yellow, blurRadius: <span class="number">20</span>)],</span><br><span class="line">          <span class="comment">// 背景渐变</span></span><br><span class="line">          gradient: LinearGradient(colors: [Colors.red, Colors.yellow]),</span><br><span class="line">        ),</span><br><span class="line">        transform: Matrix4.translationValues(<span class="number">40</span>, <span class="number">0</span>, <span class="number">0</span>), <span class="comment">// 正常是居中的, 此处为向右移动 40 距离</span></span><br><span class="line">        <span class="comment">// transform: Matrix4.rotationZ(0.2), // 旋转</span></span><br><span class="line">        <span class="comment">// transform: Matrix4.skewY(.2), // 倾斜</span></span><br><span class="line">        child: <span class="keyword">const</span> Text(</span><br><span class="line">          <span class="string">"我在Container里"</span>,</span><br><span class="line">          style: TextStyle(color: Colors.red, fontSize: <span class="number">20</span>),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyButton</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyButton(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="number">200</span>,</span><br><span class="line">      height: <span class="number">40</span>,</span><br><span class="line">      <span class="comment">// 外边距 margin, 内填充 padding</span></span><br><span class="line">      <span class="comment">// margin: const EdgeInsets.all(10),</span></span><br><span class="line">      margin: <span class="keyword">const</span> EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">20</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">      alignment: Alignment.center,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        color: Colors.blue,</span><br><span class="line">        borderRadius: BorderRadius.circular(<span class="number">20</span>),</span><br><span class="line">      ),</span><br><span class="line">      child: <span class="keyword">const</span> Text(</span><br><span class="line">        <span class="string">"按钮"</span>,</span><br><span class="line">        style: TextStyle(color: Colors.white, fontSize: <span class="number">20</span>),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyText</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyText(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="number">200</span>,</span><br><span class="line">      height: <span class="number">200</span>,</span><br><span class="line">      margin: <span class="keyword">const</span> EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">40</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">      padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">      decoration: <span class="keyword">const</span> BoxDecoration(</span><br><span class="line">        color: Colors.yellow</span><br><span class="line">      ),</span><br><span class="line">      child: <span class="keyword">const</span> Text(</span><br><span class="line">        <span class="string">"Flutter 是 Google 推出并开源的移动应用开发框架，主打跨平台、高保真、高性能。开发者可以通过 Dart 语言开发 App，一套代码同时运行在 iOS 和 Android平台。 Flutter 提供了丰富的组件、接口，开发者可以很快地为 Flutter 添加 Native（即原生开发，指基于平台原生语言来开发应用，flutter可以和平台原生语言混合开发） 扩展。"</span>,</span><br><span class="line">        textAlign: TextAlign.left,</span><br><span class="line">        overflow: TextOverflow.ellipsis, <span class="comment">// 溢出显示几个点</span></span><br><span class="line">        maxLines: <span class="number">5</span>,</span><br><span class="line">        style: TextStyle(</span><br><span class="line">          color: Colors.red,</span><br><span class="line">          fontSize: <span class="number">20</span>,</span><br><span class="line">          fontWeight: FontWeight.bold,</span><br><span class="line">          fontStyle: FontStyle.italic, <span class="comment">// 斜体</span></span><br><span class="line">          letterSpacing: <span class="number">2</span>, <span class="comment">// 字体间距</span></span><br><span class="line">          decoration: TextDecoration.underline, <span class="comment">// 下划线</span></span><br><span class="line">          decorationColor: Colors.blue, <span class="comment">// 下划线颜色, 默认黑色</span></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Paddiing-SizedBox-AspectRatio组件"><a href="#Paddiing-SizedBox-AspectRatio组件" class="headerlink" title="Paddiing,SizedBox,AspectRatio组件"></a>Paddiing,SizedBox,AspectRatio组件</h3><ul><li>Paddiing组件</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果只是简单的 padding 需求, 建议使用 Padding 组件代替 Container(消耗资源更大)</span></span><br><span class="line"><span class="comment">// const Container(padding: EdgeInsets.all(10), child: MyHomePage(),);</span></span><br><span class="line"><span class="keyword">const</span> Padding(padding: EdgeInsets.all(<span class="number">10</span>), child: MyHomePage(),);</span><br></pre></td></tr></table></figure><ul><li>SizedBox组件</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 如果只是简单的定义宽高需求, 建议使用 SizedBox 组件代替 Container(消耗资源更大)</span></span><br><span class="line"><span class="comment">// const Container(width: 80, height: 80, child: Icon(Icons.home));</span></span><br><span class="line"><span class="keyword">const</span> SizedBox(width: <span class="number">80</span>, height: <span class="number">80</span>, child: Icon(Icons.home));</span><br></pre></td></tr></table></figure><ul><li>AspectRatio组件</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// 定义宽高比, 类似 GridView 的 childAspectRatio 属性</span></span><br><span class="line">    <span class="keyword">return</span> AspectRatio(</span><br><span class="line">        aspectRatio: <span class="number">2</span>/<span class="number">1</span>,</span><br><span class="line">        child: Container(</span><br><span class="line">            color: Colors.red,</span><br><span class="line">        ),</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Image图片使用"><a href="#Image图片使用" class="headerlink" title="Image图片使用"></a>Image图片使用</h3><ul><li>main05</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(</span><br><span class="line">    MaterialApp(</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> Column(</span><br><span class="line">          children: [</span><br><span class="line">            MyApp(),</span><br><span class="line">            SizedBox(height: <span class="number">10</span>,), <span class="comment">// 内置边距组件</span></span><br><span class="line">            MyCircularImg(), <span class="comment">// Container 背景实现圆形图片</span></span><br><span class="line">            SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">            MyCircularImg2(), <span class="comment">// ClipOval 实现圆形图片</span></span><br><span class="line">            SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">            MyCircularImg3(), <span class="comment">// CircleAvatar 实现圆形图片</span></span><br><span class="line">            SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">            MyLocalImg()</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="number">200</span>,</span><br><span class="line">      height: <span class="number">200</span>,</span><br><span class="line">      decoration: <span class="keyword">const</span> BoxDecoration(</span><br><span class="line">        color: Colors.yellow</span><br><span class="line">      ),</span><br><span class="line">      child: Image.network(</span><br><span class="line">        <span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>,</span><br><span class="line">        fit: BoxFit.cover, <span class="comment">// 剪裁</span></span><br><span class="line">        <span class="comment">// alignment: Alignment.centerLeft, // 图片排版方式</span></span><br><span class="line">        <span class="comment">// scale: 2, // 图片缩小 1 倍</span></span><br><span class="line">        <span class="comment">// repeat: ImageRepeat.repeatX, // 平铺</span></span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆形图片</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCircularImg</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyCircularImg(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="number">150</span>,</span><br><span class="line">      height: <span class="number">150</span>,</span><br><span class="line">      <span class="comment">// 基于背景 borderRadius 实现圆形图片</span></span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        color: Colors.yellow,</span><br><span class="line">        borderRadius: BorderRadius.circular(<span class="number">75</span>),</span><br><span class="line">        image: <span class="keyword">const</span> DecorationImage(</span><br><span class="line">          image: NetworkImage(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>),</span><br><span class="line">          fit: BoxFit.cover</span><br><span class="line">        )</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆形图片, 基于 ClipOval</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCircularImg2</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyCircularImg2(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> ClipOval(</span><br><span class="line">      child: Image.network(</span><br><span class="line">        <span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>,</span><br><span class="line">        <span class="comment">// 不指定宽高则默认是椭圆形的</span></span><br><span class="line">        width: <span class="number">150</span>,</span><br><span class="line">        height: <span class="number">150</span>,</span><br><span class="line">        fit: BoxFit.cover,</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 圆形图片, 基于 CircleAvatar</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyCircularImg3</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyCircularImg3(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> CircleAvatar(</span><br><span class="line">      radius: <span class="number">110</span>,</span><br><span class="line">      backgroundColor: Colors.red,</span><br><span class="line">      child: CircleAvatar(</span><br><span class="line">        radius: <span class="number">100</span>,</span><br><span class="line">        backgroundImage: NetworkImage(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQNPe.png"</span>),</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 本地图片</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyLocalImg</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyLocalImg(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="number">150</span>,</span><br><span class="line">      height: <span class="number">150</span>,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        color: Colors.yellow</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// images/a.jpeg 需要在 pubspec.yaml 中配置在 flutter.assets 下的数组</span></span><br><span class="line">      <span class="comment"><span class="markdown">/**</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        assets:</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">          # 一个图片要放3个地方, 2.0x是放大 2 倍, 3.0x 是放大 3 倍, 使用的时候直接使用 images/</span></span>a<span class="markdown">.jpeg, 会自动根据设备分辨率选择</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">          - images/</span></span>a<span class="markdown">.jpeg</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">          - images/2.0x/</span></span>a<span class="markdown">.jpeg</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">          - images/3.0x/</span></span>a<span class="markdown">.jpeg</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">          # - images/b.jpeg</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">       */</span></span></span></span><br><span class="line">      child: Image.asset(<span class="string">"images/a.jpeg"</span>, fit: BoxFit.cover)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Icon图标使用及IconData自定义图标"><a href="#Icon图标使用及IconData自定义图标" class="headerlink" title="Icon图标使用及IconData自定义图标"></a>Icon图标使用及IconData自定义图标</h3><ul><li>main06</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// =====&gt; lib/main.dart</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./inc/myIcons.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        <span class="comment">// primarySwatch 主要影响的是 AppBar 和某些 Material 组件（比如浮动按钮、按钮等）的默认背景颜色</span></span><br><span class="line">        <span class="comment">// 如果你想让其他组件（比如文字、图标等）也使用红色样式，需要进一步修改 textTheme 或其他相关的 ThemeData 属性</span></span><br><span class="line">        primarySwatch: Colors.green,</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue, <span class="comment">// 设置AppBar的背景颜色, v3.24.5 primarySwatch 无效</span></span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Column(</span><br><span class="line">      children: [</span><br><span class="line">        Text(<span class="string">"Material自带图标"</span>),</span><br><span class="line">        SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">        Icon(Icons.home),</span><br><span class="line">        SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">        Icon(Icons.person, color: Colors.blue,),</span><br><span class="line">        SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">        Icon(Icons.person, color: Colors.yellow, size: <span class="number">40</span>,),</span><br><span class="line">        SizedBox(height: <span class="number">10</span>,),</span><br><span class="line"></span><br><span class="line">        Text(<span class="string">"Iconfont自定义图标"</span>),</span><br><span class="line">        SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">        Icon(MyIcons.money, color: Colors.yellow),</span><br><span class="line">        SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">        Icon(MyIcons.func, size: <span class="number">40</span>),</span><br><span class="line">        SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">        Icon(MyIcons.setting),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// =====&gt; ./inc/myIcons.dart</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIcons</span> </span>&#123;</span><br><span class="line">  <span class="comment">// ignore: slash_for_doc_comments</span></span><br><span class="line">  <span class="comment"><span class="markdown">/**</span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">    1. 下载 https://www.iconfont.cn/ 图片: 加入到购物车 - 下载代码, 将 iconfont.ttf 文件放到 fonts 目录</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">    2. 需要在 pubspec.yaml 中定义字体配置</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">    flutter:</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">      fonts:</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        - family: myIcon</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">          fonts:</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">            - asset: fonts/iconfont.ttf</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">        - family: myIcon2</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">          fonts:</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown"><span class="code">            - asset: fonts/iconfont-2.ttf</span></span></span></span><br><span class="line"><span class="comment"><span class="markdown">   */</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> IconData money = IconData(</span><br><span class="line">    <span class="number">0xe67a</span>, <span class="comment">// 16进制, 从下载代码的 iconfont.json 中取 unicode 的值</span></span><br><span class="line">    fontFamily: <span class="string">'myIcon'</span>,</span><br><span class="line">    matchTextDirection: <span class="keyword">true</span></span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> IconData func = IconData(</span><br><span class="line">    <span class="number">0xe67b</span>,</span><br><span class="line">    fontFamily: <span class="string">'myIcon'</span>,</span><br><span class="line">    matchTextDirection: <span class="keyword">true</span></span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">const</span> IconData setting = IconData(</span><br><span class="line">    <span class="number">0xe670</span>,</span><br><span class="line">    fontFamily: <span class="string">'myIcon2'</span>,</span><br><span class="line">    matchTextDirection: <span class="keyword">true</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ListView列表组件"><a href="#ListView列表组件" class="headerlink" title="ListView列表组件"></a>ListView列表组件</h3><ul><li>ListTile 可以在 ListView, Column 中</li><li>main07</li></ul><p><img src="../../data/images/2024/flutter/ListView横向列表.png" alt="ListView横向列表"></p><p><img src="../../data/images/2024/flutter/ListView垂直列表.jpg" alt="ListView垂直列表"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./res/listViewData.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        <span class="comment">// body: const MyHomePage(), // 垂直列表</span></span><br><span class="line">        <span class="comment">// body: const MyListViewHorizontal(), // 水平列表</span></span><br><span class="line">        <span class="comment">// body: const MyListViewDynamic(), // 动态列表</span></span><br><span class="line">        body: MyListViewDynamic2(), <span class="comment">// 动态列表, 基于 ListView.builder</span></span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 垂直列表</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// Column 垂直排列如果超过屏幕高度会渲染异常, ListView 列表组件则会自动包含滚动条</span></span><br><span class="line">    <span class="keyword">return</span> ListView(</span><br><span class="line">      padding: <span class="keyword">const</span> EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">      children: [</span><br><span class="line">        <span class="comment">// ListTile 列表项</span></span><br><span class="line">        <span class="keyword">const</span> ListTile(</span><br><span class="line">          leading: Icon(</span><br><span class="line">            Icons.home,</span><br><span class="line">            color: Colors.blue,</span><br><span class="line">          ), <span class="comment">// 前缀</span></span><br><span class="line">          title: Text(<span class="string">"主页"</span>),</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> Divider(),</span><br><span class="line">        <span class="keyword">const</span> ListTile(</span><br><span class="line">          leading: Icon(</span><br><span class="line">            Icons.person,</span><br><span class="line">            color: Colors.green,</span><br><span class="line">          ),</span><br><span class="line">          title: Text(<span class="string">"个人中心"</span>),</span><br><span class="line">          trailing: Icon(Icons.chevron_right_sharp), <span class="comment">// 后缀</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> Divider(),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 图文列表</span></span><br><span class="line">        ListTile(</span><br><span class="line">          leading: Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">"前三季度外贸增速4%，怎么看？"</span>),</span><br><span class="line">          subtitle: <span class="keyword">const</span> Text(<span class="string">"整个前三季度我国货物贸易进出口达到33.61万亿元人民币，同比增长了4%"</span>),</span><br><span class="line">        ),</span><br><span class="line">        ListTile(</span><br><span class="line">          leading: Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>),</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">"星火成炬｜宝塔山下新延安"</span>),</span><br><span class="line">          subtitle: <span class="keyword">const</span> Text(<span class="string">"延安精神熠熠闪耀……"</span>),</span><br><span class="line">          trailing:</span><br><span class="line">              Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQNPe.png"</span>),</span><br><span class="line">        ),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 图片列表 2</span></span><br><span class="line">        Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQNPe.png"</span>),</span><br><span class="line">        Container(</span><br><span class="line">          height: <span class="number">44</span>,</span><br><span class="line">          padding: <span class="keyword">const</span> EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">          child: <span class="keyword">const</span> Text(</span><br><span class="line">            <span class="string">"我是标题11111"</span>,</span><br><span class="line">            textAlign: TextAlign.center,</span><br><span class="line">            style: TextStyle(fontSize: <span class="number">18</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>),</span><br><span class="line">        Container(</span><br><span class="line">          height: <span class="number">44</span>,</span><br><span class="line">          padding: <span class="keyword">const</span> EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">          child: <span class="keyword">const</span> Text(</span><br><span class="line">            <span class="string">"我是标题22222"</span>,</span><br><span class="line">            textAlign: TextAlign.center,</span><br><span class="line">            style: TextStyle(fontSize: <span class="number">18</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 垂直列表</span></span><br><span class="line">        Container(</span><br><span class="line">          width: <span class="number">10</span>, <span class="comment">// 垂直列表设置 width 无效, 只能设置 height</span></span><br><span class="line">          height: <span class="number">50</span>,</span><br><span class="line">          color: Colors.red,</span><br><span class="line">        ),</span><br><span class="line">        Container(</span><br><span class="line">          height: <span class="number">100</span>,</span><br><span class="line">          color: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 水平列表</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyListViewHorizontal</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyListViewHorizontal(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> SizedBox(</span><br><span class="line">      height: <span class="number">100</span>,</span><br><span class="line">      child: ListView(</span><br><span class="line">        scrollDirection: Axis.horizontal, <span class="comment">// 定义为水平(滚动)列表, 默认为垂直列表</span></span><br><span class="line">        children: [</span><br><span class="line">          Container(</span><br><span class="line">            width: <span class="number">100</span>,</span><br><span class="line">            height: <span class="number">200</span>, <span class="comment">// 水平列表只能定义 width, 定义 height 无效</span></span><br><span class="line">            color: Colors.red,</span><br><span class="line">            child: Column(</span><br><span class="line">              children: [</span><br><span class="line">                Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQGVK.png"</span>),</span><br><span class="line">                <span class="keyword">const</span> Text(<span class="string">'我是一个文本'</span>)</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          Container(</span><br><span class="line">            width: <span class="number">100</span>,</span><br><span class="line">            color: Colors.blue,</span><br><span class="line">          ),</span><br><span class="line">          Container(</span><br><span class="line">            width: <span class="number">200</span>,</span><br><span class="line">            color: Colors.yellow,</span><br><span class="line">          ),</span><br><span class="line">          Container(</span><br><span class="line">            width: <span class="number">100</span>,</span><br><span class="line">            color: Colors.cyan,</span><br><span class="line">          ),</span><br><span class="line">          Container(</span><br><span class="line">            width: <span class="number">100</span>,</span><br><span class="line">            color: Colors.pink,</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyListViewDynamic</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyListViewDynamic(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// _ 开头的为私有函数</span></span><br><span class="line">  <span class="comment">// List&lt;Widget&gt; _initListView() &#123;</span></span><br><span class="line">  <span class="comment">//   List&lt;Widget&gt; list = [];</span></span><br><span class="line">  <span class="comment">//   for (var i = 0; i &lt; 15; i++) &#123;</span></span><br><span class="line">  <span class="comment">//     list.add(Text("这是第 $i 行"));</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">//   return list;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">List</span>&lt;Widget&gt; _initListView() &#123;</span><br><span class="line">    <span class="built_in">List</span>&lt;Widget&gt; list = [];</span><br><span class="line">    <span class="comment">// listViewData 为 listViewData.dart 中的数据</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; listViewData.length; i++) &#123;</span><br><span class="line">      list.add(ListTile(</span><br><span class="line">        leading: Image.network(<span class="string">"<span class="subst">$&#123;listViewData[i][<span class="string">"img"</span>]&#125;</span>"</span>),</span><br><span class="line">        title: Text(<span class="string">"<span class="subst">$&#123;listViewData[i][<span class="string">"title"</span>]&#125;</span>"</span>),</span><br><span class="line">        subtitle: Text(<span class="string">"<span class="subst">$&#123;listViewData[i][<span class="string">"subtitle"</span>]&#125;</span>"</span>),</span><br><span class="line">      ));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// List&lt;Widget&gt; _initListView() &#123;</span></span><br><span class="line">  <span class="comment">//   var list = listViewData.map((item) &#123;</span></span><br><span class="line">  <span class="comment">//     return ListTile(</span></span><br><span class="line">  <span class="comment">//       leading: Image.network("$&#123;item["img"]&#125;"),</span></span><br><span class="line">  <span class="comment">//       title: Text("$&#123;item["title"]&#125;"),</span></span><br><span class="line">  <span class="comment">//       subtitle: Text("$&#123;item["subtitle"]&#125;"),</span></span><br><span class="line">  <span class="comment">//     );</span></span><br><span class="line">  <span class="comment">//   &#125;);</span></span><br><span class="line">  <span class="comment">//   // (1, 2, 3) --&gt; [1, 2, 3]</span></span><br><span class="line">  <span class="comment">//   return list.toList();</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> ListView(</span><br><span class="line">      padding: <span class="keyword">const</span> EdgeInsets.fromLTRB(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">0</span>),</span><br><span class="line">      children: _initListView(),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyListViewDynamic2</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span> list = [];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 如果构造方法使用 const 修饰, 则不能包含方法体, 此处去掉 const</span></span><br><span class="line">  MyListViewDynamic2(&#123;<span class="keyword">super</span>.key&#125;)  &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">      list.add(<span class="string">"这是第 $i 行"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> ListView.builder(</span><br><span class="line">      itemCount: list.length,  </span><br><span class="line">      itemBuilder: (context, index) &#123;</span><br><span class="line">        <span class="keyword">return</span> ListTile(</span><br><span class="line">          title: Text(<span class="string">"<span class="subst">$&#123;list[index]&#125;</span>"</span>),</span><br><span class="line">        );</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="GridView网格组件"><a href="#GridView网格组件" class="headerlink" title="GridView网格组件"></a>GridView网格组件</h3><ul><li>可以通过 GridView.count(固定每行个数), GridView.extent(固定每行每元素的最大宽度进行自适应) 实现网格布局; 通过 GridView.builder 实现动态网格布局</li><li>main08</li></ul><p><img src="../../data/images/2024/flutter/GridView.png" alt="GridView"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./res/listViewData.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        <span class="comment">// body: const Padding(padding: EdgeInsets.all(10), child: MyHomePage(),), // GridView.count</span></span><br><span class="line">        <span class="comment">// body: const Padding(padding: EdgeInsets.all(10), child: MyGridViewExtend(),), // GridView.extend</span></span><br><span class="line">        body: <span class="keyword">const</span> Padding(padding: EdgeInsets.all(<span class="number">10</span>), child: MyGridViewBuilder(),), <span class="comment">// GridView.builder</span></span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> GridView.count(</span><br><span class="line">      crossAxisSpacing: <span class="number">10</span>, <span class="comment">// 水平子Widget之间间距</span></span><br><span class="line">      mainAxisSpacing: <span class="number">20</span>, <span class="comment">// 垂直子Widget之间间距</span></span><br><span class="line">      crossAxisCount: <span class="number">2</span>, <span class="comment">// 一行的Widget数量(GridView.count适用)</span></span><br><span class="line">      childAspectRatio: <span class="number">0.8</span>, <span class="comment">// 子Widget宽高比例</span></span><br><span class="line">      children: <span class="keyword">const</span> &lt;Widget&gt; [</span><br><span class="line">        MyIconBox(Icons.home),</span><br><span class="line">        MyIconBox(Icons.search, color: Colors.yellow),</span><br><span class="line">        MyIconBox(Icons.person, color: Colors.black),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyGridViewExtend</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyGridViewExtend(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> GridView.extent(</span><br><span class="line">      crossAxisSpacing: <span class="number">10</span>, <span class="comment">// 水平子Widget之间间距</span></span><br><span class="line">      mainAxisSpacing: <span class="number">20</span>, <span class="comment">// 垂直子Widget之间间距</span></span><br><span class="line">      <span class="comment">// maxCrossAxisExtent为子元素在横轴上的最大长度，之所以是“最大”长度，是因为横轴方向每个子元素的长度仍然是等分的</span></span><br><span class="line">      <span class="comment">// 举个例子，如果ViewPort的横轴长度是450，那么当maxCrossAxisExtent的值在区间 [450/4=112.5, 450/3=150) 内的话，子元素最终实际长度都为112.5</span></span><br><span class="line">      <span class="comment">// 此案例: 100可在一行显示3个, 300每行显示2个, 400每行显示1个</span></span><br><span class="line">      maxCrossAxisExtent: <span class="number">100</span>, <span class="comment">// 一行中每个Widget的最大宽度(会自适应调整每行显示的个数, GridView.extent适用)</span></span><br><span class="line">      childAspectRatio: <span class="number">0.8</span>, <span class="comment">// 子Widget宽高比例</span></span><br><span class="line">      children: <span class="keyword">const</span> &lt;Widget&gt; [</span><br><span class="line">        MyIconBox(Icons.home),</span><br><span class="line">        MyIconBox(Icons.search, color: Colors.yellow),</span><br><span class="line">        MyIconBox(Icons.person, color: Colors.black),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyGridViewBuilder</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyGridViewBuilder(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> GridView.builder(</span><br><span class="line">      <span class="comment">// 必传. SliverGridDelegateWithFixedCrossAxisCount (实现GridView.count) | SliverGridDelegateWithMaxCrossAxisExtent (实现GridView.extent)</span></span><br><span class="line">      gridDelegate: <span class="keyword">const</span> SliverGridDelegateWithFixedCrossAxisCount(</span><br><span class="line">        crossAxisSpacing: <span class="number">10</span>, <span class="comment">// 水平子Widget之间间距</span></span><br><span class="line">        crossAxisCount: <span class="number">2</span>,</span><br><span class="line">      ),</span><br><span class="line">      itemCount: listViewData.length,</span><br><span class="line">      itemBuilder: (BuildContext context, <span class="built_in">int</span> index) &#123;</span><br><span class="line">        <span class="keyword">return</span> Column(</span><br><span class="line">          children: [</span><br><span class="line">            Image.network(<span class="string">"<span class="subst">$&#123;listViewData[index][<span class="string">"img"</span>]&#125;</span>"</span>, fit: BoxFit.cover),</span><br><span class="line">            Text(<span class="string">"<span class="subst">$&#123;listViewData[index][<span class="string">"title"</span>]&#125;</span>"</span>)</span><br><span class="line">          ],</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIconBox</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> IconData icon; <span class="comment">// 如果存在额外非 final 的构造参数, 就需要去掉构造函数的 const</span></span><br><span class="line">  <span class="keyword">final</span> Color color;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 此处参数使用 this.icon 等同于在方法体里面进行 this.icon = icon 的赋值</span></span><br><span class="line">  <span class="keyword">const</span> MyIconBox(<span class="keyword">this</span>.icon, &#123;<span class="keyword">super</span>.key, <span class="keyword">this</span>.color = Colors.red&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      width: <span class="number">100</span>,</span><br><span class="line">      height: <span class="number">100</span>,</span><br><span class="line">      color: Colors.blue,</span><br><span class="line">      child: Icon(icon, color: color, size: <span class="number">30</span>,),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Row-Column-Wrap线性布局"><a href="#Row-Column-Wrap线性布局" class="headerlink" title="Row,Column,Wrap线性布局"></a>Row,Column,Wrap线性布局</h3><ul><li>Row(水平布局, 从左到右排列) 和 Column(垂直布局, 从上到下排列) 都继承自 Flex</li><li>Wrap可以实现流布局(如横向不够则自动换行)，单行的Wrap跟Row表现几乎一致，单列的Wrap则跟Column表现几乎一致</li><li>main09</li></ul><p><img src="../../data/images/2024/flutter/Row_Column_Wrap.png" alt="Row_Column_Wrap"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> Padding(padding: EdgeInsets.all(<span class="number">10</span>), child: MyHomePage(),),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// Row(水平布局, 从左到右排列) 和 Column(垂直布局, 从上到下排列) 都继承自 Flex </span></span><br><span class="line">    <span class="keyword">return</span> Column(</span><br><span class="line">      crossAxisAlignment: CrossAxisAlignment.start, <span class="comment">// 纵轴的对齐方式</span></span><br><span class="line">      children: &lt;Widget&gt;[</span><br><span class="line">        <span class="keyword">const</span> Text(<span class="string">"hi"</span>),</span><br><span class="line">        <span class="keyword">const</span> Text(<span class="string">"world"</span>),</span><br><span class="line">        <span class="keyword">const</span> Divider(),</span><br><span class="line">        <span class="keyword">const</span> Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.spaceBetween, <span class="comment">// 主轴的对齐方式</span></span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Text(<span class="string">"主页"</span>),</span><br><span class="line">            Icon(Icons.home, size: <span class="number">30</span>,),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.center, <span class="comment">// 主轴的对齐方式</span></span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Text(<span class="string">"我的"</span>),</span><br><span class="line">            Icon(Icons.person, size: <span class="number">30</span>,),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> Divider(),</span><br><span class="line">        <span class="keyword">const</span> Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.end, <span class="comment">// 主轴的对齐方式 (在水平方向靠左, 居中, 靠右等对齐)</span></span><br><span class="line">          crossAxisAlignment: CrossAxisAlignment.start, <span class="comment">// 纵轴的对齐方式 (在垂直方向靠上, 中线, 靠下等对齐)</span></span><br><span class="line">          <span class="comment">// verticalDirection: VerticalDirection.down, // 默认, 表示Row纵轴(垂直)的对齐方向为从上到下; up则是反过来</span></span><br><span class="line">          children: &lt;Widget&gt;[</span><br><span class="line">            Text(<span class="string">"hello world"</span>, style: TextStyle(fontSize: <span class="number">30.0</span>),),</span><br><span class="line">            Text(<span class="string">"I am Jack"</span>),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> Divider(),</span><br><span class="line">        Container(</span><br><span class="line">          <span class="comment">// width: double.infinity, // double.infinity 或 double.maxFinite 表示占满父容器的宽高(可实现占满整个屏幕)</span></span><br><span class="line">          height: <span class="number">100</span>, <span class="comment">// 此处不定义高度则 CrossAxisAlignment.center 无效果</span></span><br><span class="line">          color: Colors.black12,</span><br><span class="line">          child: <span class="keyword">const</span> Row(</span><br><span class="line">            mainAxisAlignment: MainAxisAlignment.spaceBetween,</span><br><span class="line">            crossAxisAlignment: CrossAxisAlignment.center, <span class="comment">// 居中对齐(基于外层容器的高度)</span></span><br><span class="line">            children: &lt;Widget&gt;[</span><br><span class="line">              Icon(Icons.home, size: <span class="number">30</span>,),</span><br><span class="line">              Icon(Icons.search, size: <span class="number">30</span>,),</span><br><span class="line">              Icon(Icons.person, size: <span class="number">30</span>,),</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        <span class="keyword">const</span> Divider(),</span><br><span class="line">        <span class="comment">// Wrap可以实现流布局，单行的Wrap跟Row表现几乎一致，单列的Wrap则跟Column表现几乎一致</span></span><br><span class="line">        <span class="comment">// 但Row与Column都是单行单列的，Wrap则突破了这个限制，mainAxis上空间不足时，则向crossAxis上去扩展显示</span></span><br><span class="line">        Wrap(</span><br><span class="line">          <span class="comment">// direction: Axis.horizontal, // 主轴的方向，默认水平</span></span><br><span class="line">          alignment: WrapAlignment.start, <span class="comment">// 主轴的对其方式</span></span><br><span class="line">          spacing: <span class="number">20</span>, <span class="comment">// 主轴方向上的间距</span></span><br><span class="line">          runSpacing: <span class="number">10</span>, <span class="comment">// 纵轴(垂直方向)上的间距</span></span><br><span class="line">          <span class="comment">// textDirection: TextDirection.ltr, // 文本方向</span></span><br><span class="line">          <span class="comment">// verticalDirection: VerticalDirection.down, // 定义了children摆放顺序，默认是down，见Flex相关属性介绍</span></span><br><span class="line">          <span class="comment">// runAlignment: WrapAlignment.start, // run的对齐方式。run可以理解为新的行或者列，如果是水平方向布局的话，run可以理解为新的一行</span></span><br><span class="line">          children: [</span><br><span class="line">            Container(width: <span class="number">100</span>, height: <span class="number">20</span>, color: Colors.red, child: <span class="keyword">const</span> Text(<span class="string">"文本 1"</span>),),</span><br><span class="line">            Container(width: <span class="number">110</span>, height: <span class="number">20</span>, color: Colors.yellow, child: <span class="keyword">const</span> Text(<span class="string">"文本 2"</span>),),</span><br><span class="line">            Container(width: <span class="number">120</span>, height: <span class="number">20</span>, color: Colors.blue,),</span><br><span class="line">            Container(width: <span class="number">200</span>, height: <span class="number">20</span>, color: Colors.black,),</span><br><span class="line">            Container(width: <span class="number">100</span>, height: <span class="number">20</span>, color: Colors.red,),</span><br><span class="line">            Container(width: <span class="number">120</span>, height: <span class="number">20</span>, color: Colors.yellow,),</span><br><span class="line">          ],</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Flex和Expanded弹性布局"><a href="#Flex和Expanded弹性布局" class="headerlink" title="Flex和Expanded弹性布局"></a>Flex和Expanded弹性布局</h3><ul><li>Row(水平布局, 从左到右排列) 和 Column(垂直布局, 从上到下排列) 都继承自 Flex</li><li>Expanded 只能放到 Flex Row Column 内来实现弹性布局</li><li>main10</li></ul><p><img src="../../data/images/2024/flutter/Flex.png" alt="Flex"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> Padding(padding: EdgeInsets.all(<span class="number">10</span>), child: MyHomePage(),),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Column(</span><br><span class="line">      children: [</span><br><span class="line">        <span class="comment">// Row(水平布局, 从左到右排列) 和 Column(垂直布局, 从上到下排列) 都继承自 Flex </span></span><br><span class="line">        <span class="keyword">const</span> Flex(</span><br><span class="line">          direction: Axis.horizontal, <span class="comment">// horizontal 水平布局 ｜ vertical 垂直布局</span></span><br><span class="line">          children: [</span><br><span class="line">            Text(<span class="string">"hello world, "</span>),</span><br><span class="line">            Text(<span class="string">"flutter"</span>),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">// 结合 Expanded 实现弹性布局. flex实现整体左右比为2:1, 右侧的上下比为2:1, 需要配置子元素宽高</span></span><br><span class="line">        Row(</span><br><span class="line">          children: [</span><br><span class="line">            <span class="comment">// Expanded 只能放到 Flex Row Column 内来实现弹性布局</span></span><br><span class="line">            Expanded(</span><br><span class="line">              flex: <span class="number">2</span>, </span><br><span class="line">              child: SizedBox(height: <span class="number">180</span>, child: Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>, fit: BoxFit.cover),)</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> SizedBox(width: <span class="number">10</span>,),</span><br><span class="line">            Expanded(</span><br><span class="line">              flex: <span class="number">1</span>, </span><br><span class="line">              child: SizedBox(</span><br><span class="line">                height: <span class="number">180</span>,</span><br><span class="line">                child: Column(</span><br><span class="line">                  children: [</span><br><span class="line">                    Expanded(</span><br><span class="line">                      flex: <span class="number">2</span>,</span><br><span class="line">                      child: SizedBox(width: <span class="built_in">double</span>.infinity, child: Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQNPe.png"</span>, fit: BoxFit.cover),)</span><br><span class="line">                    ),</span><br><span class="line">                    <span class="keyword">const</span> SizedBox(height: <span class="number">10</span>,),</span><br><span class="line">                    Expanded(</span><br><span class="line">                      flex: <span class="number">1</span>,</span><br><span class="line">                      child: SizedBox(width: <span class="built_in">double</span>.infinity, child: Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>, fit: BoxFit.cover),)</span><br><span class="line">                    ),</span><br><span class="line">                  ],</span><br><span class="line">                ),</span><br><span class="line">              )</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Stack-Positioned-Align层叠布局"><a href="#Stack-Positioned-Align层叠布局" class="headerlink" title="Stack,Positioned,Align层叠布局"></a>Stack,Positioned,Align层叠布局</h3><ul><li>Stack 层叠布局: 后面的默认会覆盖前面的(后面的在上面)</li><li>Positioned 基于父容器进行定位, 如果父容器没有则基于主屏幕</li><li>Center 为 Align 子组件, 也可以使用 Container.alignment 属性进行对齐</li><li>main11</li></ul><p><img src="../../data/images/2024/flutter/Stack_Positioned_Align.png" alt="Stack_Positioned_Align"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">List</span>&lt;Widget&gt; _initListView() &#123;</span><br><span class="line">    <span class="built_in">List</span>&lt;Widget&gt; list = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">15</span>; i++) &#123;</span><br><span class="line">      list.add(ListTile(title: Text(<span class="string">"这是第 $i 行"</span>),));</span><br><span class="line">      list.add(<span class="keyword">const</span> Divider());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// 在组件的build方法中可以通过 MediaQuery 获取屏幕宽高</span></span><br><span class="line">    <span class="keyword">final</span> size = MediaQuery.of(context).size;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Container(</span><br><span class="line">      height: <span class="number">300</span>,</span><br><span class="line">      color: Colors.red,</span><br><span class="line">      <span class="comment">// Stack 层叠布局: 后面的默认会覆盖前面的(后面的在上面)</span></span><br><span class="line">      child: Stack(</span><br><span class="line">        children: [</span><br><span class="line">          ListView(</span><br><span class="line">            padding: <span class="keyword">const</span> EdgeInsets.only(top: <span class="number">40</span>),</span><br><span class="line">            children: _initListView(),</span><br><span class="line">          ),</span><br><span class="line">          <span class="comment">// 基于父容器进行定位, 如果父容器没有则基于主屏幕</span></span><br><span class="line">          Positioned(</span><br><span class="line">            left: <span class="number">0</span>,</span><br><span class="line">            top: <span class="number">0</span>,</span><br><span class="line">            <span class="comment">// width: double.infinity, // 子组件的宽高(注意: 必须是固定值, 使用double.infinity报错)</span></span><br><span class="line">            width: size.width,</span><br><span class="line">            height: <span class="number">40</span>,</span><br><span class="line">            child: Container(</span><br><span class="line">              height: <span class="number">10</span>, <span class="comment">// 此处会被 Positioned 覆盖</span></span><br><span class="line">              <span class="comment">// alignment: Alignment.center,</span></span><br><span class="line">              color: Colors.yellow,</span><br><span class="line">              <span class="comment">// child: const Align(</span></span><br><span class="line">              <span class="comment">//   alignment: Alignment.center, // 也可使用 Alignment(0, 0) // 矩形中心点作为原点</span></span><br><span class="line">              <span class="comment">//   child: Text("Flutter1"),</span></span><br><span class="line">              <span class="comment">// )</span></span><br><span class="line">              <span class="comment">// Center 继承 Align</span></span><br><span class="line">              child: <span class="keyword">const</span> Center(child: Text(<span class="string">"Flutter1"</span>)),</span><br><span class="line">            )</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Card卡片"><a href="#Card卡片" class="headerlink" title="Card卡片"></a>Card卡片</h3><ul><li>main12</li></ul><p><img src="../../data/images/2024/flutter/Card.png" alt="Card"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> ListView(</span><br><span class="line">      children: [</span><br><span class="line">        Card(</span><br><span class="line">          <span class="comment">// 卡片阴影值的深度</span></span><br><span class="line">          elevation: <span class="number">20</span>,</span><br><span class="line">          <span class="comment">// 的阴影效果. 此时阴影效果为圆角的长方形边</span></span><br><span class="line">          shape: RoundedRectangleBorder(</span><br><span class="line">            borderRadius: BorderRadius.circular(<span class="number">10</span>),</span><br><span class="line">          ),</span><br><span class="line">          margin: <span class="keyword">const</span> EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">          child: Column(</span><br><span class="line">            children: [</span><br><span class="line">              AspectRatio(</span><br><span class="line">                aspectRatio: <span class="number">20</span> / <span class="number">9</span>,</span><br><span class="line">                child: Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>, fit: BoxFit.cover),</span><br><span class="line">              ),</span><br><span class="line">              <span class="keyword">const</span> ListTile(</span><br><span class="line">                leading: SizedBox(</span><br><span class="line">                  width: <span class="number">60</span>, <span class="comment">// 此处让图片的宽高和 leading 的宽高一致</span></span><br><span class="line">                  child: CircleAvatar(</span><br><span class="line">                    radius: <span class="number">60</span>,</span><br><span class="line">                    backgroundImage: NetworkImage(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQNPe.png"</span>),</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">                title: Text(<span class="string">"全国秋粮收获近七成"</span>),</span><br><span class="line">                subtitle: Text(<span class="string">"分作物看，中稻过七成、玉米过六成、大豆过八成"</span>),</span><br><span class="line">              )</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ElevatedButton等按钮组件"><a href="#ElevatedButton等按钮组件" class="headerlink" title="ElevatedButton等按钮组件"></a>ElevatedButton等按钮组件</h3><ul><li>按钮组件: ElevatedButton, TextButton, OutlinedButton, IconButton</li><li>底部浮动按钮: 基于 Scaffold.floatingActionButton</li><li>main13</li></ul><p><img src="../../data/images/2024/flutter/Button.png" alt="Button"></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">        body: <span class="keyword">const</span> Padding(padding: EdgeInsets.all(<span class="number">10</span>), child: MyHomePage(),),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> ListView(</span><br><span class="line">      children: [</span><br><span class="line">        Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.spaceAround,</span><br><span class="line">          children: [</span><br><span class="line">            ElevatedButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">"点击了普通按钮..."</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"普通按钮"</span>)</span><br><span class="line">            ),</span><br><span class="line">            TextButton(</span><br><span class="line">              onPressed: () &#123;&#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"文本按钮"</span>)</span><br><span class="line">            ),</span><br><span class="line">            OutlinedButton(</span><br><span class="line">              onPressed: () &#123;&#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"边框按钮"</span>)</span><br><span class="line">            ),</span><br><span class="line">            IconButton(</span><br><span class="line">              onPressed: () &#123;&#125;,</span><br><span class="line">              icon: <span class="keyword">const</span> Icon(Icons.home)</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.spaceAround,</span><br><span class="line">          children: [</span><br><span class="line">            ElevatedButton.icon(</span><br><span class="line">              onPressed: () &#123;&#125;,</span><br><span class="line">              icon: <span class="keyword">const</span> Icon(Icons.home),</span><br><span class="line">              label: <span class="keyword">const</span> Text(<span class="string">"按钮+图标"</span>)</span><br><span class="line">            ),</span><br><span class="line">            SizedBox(</span><br><span class="line">              width: <span class="number">200</span>,</span><br><span class="line">              height: <span class="number">60</span>,</span><br><span class="line">              child: ElevatedButton(</span><br><span class="line">                onPressed: () &#123;&#125;,</span><br><span class="line">                child: <span class="keyword">const</span> Text(<span class="string">"按钮(定义宽高)"</span>)</span><br><span class="line">              ),</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.spaceAround,</span><br><span class="line">          children: [</span><br><span class="line">            Expanded(</span><br><span class="line">              child: ElevatedButton(</span><br><span class="line">                onPressed: () &#123;&#125;,</span><br><span class="line">                child: <span class="keyword">const</span> Text(<span class="string">"按钮(自适应)"</span>)</span><br><span class="line">              )</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.spaceAround,</span><br><span class="line">          children: [</span><br><span class="line">            ElevatedButton(</span><br><span class="line">              style: ButtonStyle(</span><br><span class="line">                backgroundColor: WidgetStateProperty.all(Colors.blue),</span><br><span class="line">                foregroundColor: WidgetStateProperty.all(Colors.white),</span><br><span class="line">              ),</span><br><span class="line">              onPressed: () &#123;&#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"按钮(颜色)"</span>)</span><br><span class="line">            ),</span><br><span class="line">            ElevatedButton(</span><br><span class="line">              style: ButtonStyle(</span><br><span class="line">                elevation: WidgetStateProperty.all(<span class="number">20</span>),</span><br><span class="line">              ),</span><br><span class="line">              onPressed: () &#123;&#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"按钮(阴影)"</span>)</span><br><span class="line">            ),</span><br><span class="line">            ElevatedButton(</span><br><span class="line">              style: ButtonStyle(</span><br><span class="line">                shape: WidgetStateProperty.all(</span><br><span class="line">                  RoundedRectangleBorder(</span><br><span class="line">                    <span class="comment">// 可调整圆角大小</span></span><br><span class="line">                    borderRadius: BorderRadius.circular(<span class="number">0</span>)</span><br><span class="line">                  )</span><br><span class="line">                ),</span><br><span class="line">              ),</span><br><span class="line">              onPressed: () &#123;&#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"按钮(矩形)"</span>)</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">        Row(</span><br><span class="line">          mainAxisAlignment: MainAxisAlignment.spaceAround,</span><br><span class="line">          children: [</span><br><span class="line">            SizedBox(</span><br><span class="line">              width: <span class="number">120</span>,</span><br><span class="line">              height: <span class="number">120</span>,</span><br><span class="line">              child: ElevatedButton(</span><br><span class="line">                style: ButtonStyle(</span><br><span class="line">                  shape: WidgetStateProperty.all(</span><br><span class="line">                    <span class="keyword">const</span> CircleBorder(side: BorderSide(color: Colors.white)),</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">                onPressed: () &#123;&#125;,</span><br><span class="line">                child: <span class="keyword">const</span> Text(<span class="string">"按钮(圆形)"</span>)</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">            OutlinedButton(</span><br><span class="line">              style: ButtonStyle(</span><br><span class="line">                side: WidgetStateProperty.all(</span><br><span class="line">                  <span class="keyword">const</span> BorderSide(width: <span class="number">1</span>, color: Colors.red),</span><br><span class="line">                ),</span><br><span class="line">              ),</span><br><span class="line">              onPressed: () &#123;&#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"按钮(边框颜色)"</span>)</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="StatelessWidget-StatefulWidget状态组件"><a href="#StatelessWidget-StatefulWidget状态组件" class="headerlink" title="StatelessWidget,StatefulWidget状态组件"></a>StatelessWidget,StatefulWidget状态组件</h3><ul><li>StatelessWidget 无状态组件, StatefulWidget 有状态组件</li><li>main14</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: <span class="keyword">const</span> MyHomePage(),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHomePage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyHomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyHomePage&gt; createState() =&gt; _MyHomePageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyHomePageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyHomePage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> _count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">'会重新执行build方法进行渲染, _count: $_count'</span>);</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(title: <span class="keyword">const</span> Text(<span class="string">"Demo"</span>)),</span><br><span class="line">      body: Row(</span><br><span class="line">        mainAxisAlignment: MainAxisAlignment.spaceAround,</span><br><span class="line">        children: [</span><br><span class="line">          Text(<span class="string">"$_count"</span>),</span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              <span class="comment">// 必须通过 setState 进行状态更新</span></span><br><span class="line">              setState(() &#123;</span><br><span class="line">                _count ++;</span><br><span class="line">              &#125;);</span><br><span class="line">            &#125;, </span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">"增加"</span>)</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// 底部浮动按钮</span></span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">        onPressed: () &#123;</span><br><span class="line">          setState(() &#123;</span><br><span class="line">            _count ++;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        child: <span class="keyword">const</span> Icon(Icons.add)</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Scaffold骨架组件"><a href="#Scaffold骨架组件" class="headerlink" title="Scaffold骨架组件"></a>Scaffold骨架组件</h3><ul><li>main15</li></ul><p><img src="../../data/images/2024/flutter/Scaffold.png" alt="Scaffold"></p><ul><li>main.dart</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./demo15/home.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./demo15/user.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      home: <span class="keyword">const</span> MyTabs(),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyTabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyTabs&gt; createState() =&gt; _MyTabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyTabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyTabs</span>&gt; </span>&#123;</span><br><span class="line">  <span class="built_in">int</span> _currentIndex = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        <span class="comment">// 导航栏左侧图标. 不能和左侧抽屉同时存在</span></span><br><span class="line">        <span class="comment">// leading: IconButton(icon: const Icon(Icons.dashboard), onPressed: () &#123;&#125;),</span></span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">"App Name"</span>),</span><br><span class="line">        <span class="comment">// 导航栏右侧菜单. 不能和右侧抽屉同时存在</span></span><br><span class="line">        <span class="comment">// actions: &lt;Widget&gt;[</span></span><br><span class="line">        <span class="comment">//   IconButton(icon: const Icon(Icons.share), onPressed: () &#123;&#125;),</span></span><br><span class="line">        <span class="comment">//   IconButton(icon: const Icon(Icons.more_horiz), onPressed: () &#123;&#125;),</span></span><br><span class="line">        <span class="comment">// ],</span></span><br><span class="line">      ),</span><br><span class="line">      drawer: Drawer(</span><br><span class="line">        child: Column(</span><br><span class="line">          children: [</span><br><span class="line">            <span class="comment">// DrawerHeader 抽屉头部</span></span><br><span class="line">            DrawerHeader(</span><br><span class="line">              decoration: <span class="keyword">const</span> BoxDecoration(</span><br><span class="line">                  color: Colors.yellow,</span><br><span class="line">                  image: DecorationImage(</span><br><span class="line">                      image: NetworkImage(</span><br><span class="line">                          <span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>),</span><br><span class="line">                      fit: BoxFit.cover)),</span><br><span class="line">              child: ListView(</span><br><span class="line">                children: <span class="keyword">const</span> [</span><br><span class="line">                  Text(<span class="string">"我是一个头部"</span>, style: TextStyle(fontSize: <span class="number">20</span>, color: Colors.white),)</span><br><span class="line">                ],</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> Text(<span class="string">"其他信息"</span>)</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      endDrawer: Drawer(</span><br><span class="line">        child: Column(</span><br><span class="line">          children: [</span><br><span class="line">            <span class="comment">// UserAccountsDrawerHeader 账号抽屉头部</span></span><br><span class="line">            UserAccountsDrawerHeader(</span><br><span class="line">              accountName: <span class="keyword">const</span> Text(<span class="string">"张三"</span>, style: TextStyle(color: Colors.white),),</span><br><span class="line">              accountEmail: <span class="keyword">const</span> Text(<span class="string">"admin@qq.com"</span>, style: TextStyle(color: Colors.white),),</span><br><span class="line">              currentAccountPicture: <span class="keyword">const</span> CircleAvatar(</span><br><span class="line">                backgroundImage: NetworkImage(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>),</span><br><span class="line">              ),</span><br><span class="line">              decoration: <span class="keyword">const</span> BoxDecoration(</span><br><span class="line">                  color: Colors.yellow,</span><br><span class="line">                  image: DecorationImage(</span><br><span class="line">                      image: NetworkImage(</span><br><span class="line">                          <span class="string">"https://s21.ax1x.com/2025/10/15/pVqQGVK.png"</span>),</span><br><span class="line">                      fit: BoxFit.cover)),</span><br><span class="line">              otherAccountsPictures: [</span><br><span class="line">                Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQNPe.png"</span>),</span><br><span class="line">                Image.network(<span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>),</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> ListTile(</span><br><span class="line">              title: Text(<span class="string">"个人中心"</span>),</span><br><span class="line">              leading: CircleAvatar(child: Icon(Icons.people)),</span><br><span class="line">            ),</span><br><span class="line">            <span class="keyword">const</span> Divider(),</span><br><span class="line">            <span class="keyword">const</span> ListTile(</span><br><span class="line">              title: Text(<span class="string">"系统设置"</span>),</span><br><span class="line">              leading: Icon(Icons.settings) <span class="comment">// CircleAvatar(child: Icon(Icons.settings)),</span></span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// body: const Center(</span></span><br><span class="line">      <span class="comment">//   child: Text("内容区2"),</span></span><br><span class="line">      <span class="comment">// ),</span></span><br><span class="line">      body: _currentIndex == <span class="number">0</span> ? <span class="keyword">const</span> HomePage() : <span class="keyword">const</span> UserPage(),</span><br><span class="line">      <span class="comment">// 底部导航</span></span><br><span class="line">      bottomNavigationBar: BottomNavigationBar(</span><br><span class="line">          currentIndex: _currentIndex, <span class="comment">// 默认选中第几个</span></span><br><span class="line">          <span class="comment">// 选中变化回调函数</span></span><br><span class="line">          onTap: (v) &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              _currentIndex = v;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;,</span><br><span class="line">          fixedColor: Colors.blue, <span class="comment">// 选中的颜色</span></span><br><span class="line">          <span class="comment">// 底部导航栏类型. fixed: 固定底部导航栏. shifting: 可滑动底部导航栏</span></span><br><span class="line">          <span class="comment">// 如果底部有4个及以上的菜单时就需要配置这个参数，否则按钮默认看不到，点击按钮会出现左右滑动效果</span></span><br><span class="line">          type: BottomNavigationBarType.fixed,</span><br><span class="line">          items: <span class="keyword">const</span> [</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.home), label: <span class="string">"首页"</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.category), label: <span class="string">"分类"</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.add), label: <span class="string">"发布"</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.settings), label: <span class="string">"设置"</span>),</span><br><span class="line">            BottomNavigationBarItem(icon: Icon(Icons.person), label: <span class="string">"我的"</span>),</span><br><span class="line">          ]),</span><br><span class="line">      <span class="comment">// 悬浮按钮实现类似闲鱼发布按钮的效果. 或者使用BottomAppBar和CircularNotchedRectangle实现, 参考: https://book.flutterchina.club/chapter5/material_scaffold.html#_5-7-5-%E5%BA%95%E9%83%A8tab%E5%AF%BC%E8%88%AA%E6%A0%8F</span></span><br><span class="line">      floatingActionButton: FloatingActionButton(</span><br><span class="line">        onPressed: () =&gt; setState(() =&gt; _currentIndex = <span class="number">2</span>),</span><br><span class="line">        backgroundColor: _currentIndex == <span class="number">2</span> ? Colors.red : Colors.white,</span><br><span class="line">        shape: RoundedRectangleBorder(</span><br><span class="line">          borderRadius: BorderRadius.circular(<span class="number">30</span>), <span class="comment">// 调整圆角矩形的弧度</span></span><br><span class="line">        ),</span><br><span class="line">        child: Container(</span><br><span class="line">          padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">          decoration: BoxDecoration(</span><br><span class="line">            color: Colors.white,</span><br><span class="line">            borderRadius: BorderRadius.circular(<span class="number">30</span>),</span><br><span class="line">          ),</span><br><span class="line">          child: <span class="keyword">const</span> Icon(Icons.add),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// 悬浮按钮位置. centerDocked: 底部导航栏中间位置</span></span><br><span class="line">      floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>user.dart (home.dart 同理)</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserPage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> UserPage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;UserPage&gt; createState() =&gt; _UserPageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_UserPageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">UserPage</span>&gt; </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">const</span> Text(<span class="string">"其他页面"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="AppBar-TabBar导航栏"><a href="#AppBar-TabBar导航栏" class="headerlink" title="AppBar,TabBar导航栏"></a>AppBar,TabBar导航栏</h3><ul><li>基于 TabBar 和 TabBarView 实现导航栏, 两个都需要定义 controller 属性</li><li>main16</li></ul><p><img src="../../data/images/2024/flutter/AppBar_TabBar.png" alt="AppBar_TabBar"></p><ul><li>main.dart</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./demo16/home.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      debugShowCheckedModeBanner: <span class="keyword">false</span>, <span class="comment">// 去掉debug图标</span></span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        appBarTheme: <span class="keyword">const</span> AppBarTheme(</span><br><span class="line">          backgroundColor: Colors.blue,</span><br><span class="line">        ),</span><br><span class="line">        useMaterial3: <span class="keyword">false</span>, <span class="comment">// 默认 useMaterial3: true 会导致TabBar组件样式出现下划线, 并且滚动TAB前面会有一部分空白</span></span><br><span class="line">        <span class="comment">// tabBarTheme: const TabBarTheme(dividerColor: Colors.transparent) // 去掉 TabBar 组件的下划线</span></span><br><span class="line">      ),</span><br><span class="line">      home: <span class="keyword">const</span> MyTabs(),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTabs</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyTabs(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyTabs&gt; createState() =&gt; _MyTabsState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// with 混入 SingleTickerProviderStateMixin</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyTabsState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyTabs</span>&gt; <span class="title">with</span> <span class="title">SingleTickerProviderStateMixin</span> </span>&#123;</span><br><span class="line">  late TabController _tabController;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 生命周期函数: 组件初始化时调用</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="comment">// 通过 vsync: this 参数将当前 State 对象作为 SingleTickerProviderStateMixin 的提供者</span></span><br><span class="line">    _tabController = TabController(length: <span class="number">3</span>, vsync: <span class="keyword">this</span>);</span><br><span class="line">    <span class="comment">// 控制器上添加监听事件(点击和滑动改变下表后都能触发)</span></span><br><span class="line">    _tabController.addListener(() &#123;</span><br><span class="line">      <span class="comment">// 必须判断一下，否则会进入多次</span></span><br><span class="line">      <span class="keyword">if</span> (_tabController.animation!.value == _tabController.index) &#123;</span><br><span class="line">        <span class="built_in">print</span>(_tabController.index); <span class="comment">// 获取点击或滑动页面的索引值</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 生命周期函数: 组件销毁时调用</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> dispose() &#123;</span><br><span class="line">    <span class="keyword">super</span>.dispose();</span><br><span class="line">    _tabController.dispose();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        backgroundColor: Colors.red,</span><br><span class="line">        centerTitle: <span class="keyword">true</span>, <span class="comment">// 标题是否居中</span></span><br><span class="line">        <span class="comment">// 导航栏左侧图标. 不能和左侧抽屉同时存在</span></span><br><span class="line">        leading: IconButton(icon: <span class="keyword">const</span> Icon(Icons.dashboard), onPressed: () &#123;&#125;),</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">"App Name"</span>),</span><br><span class="line">        <span class="comment">// 导航栏右侧菜单. 不能和右侧抽屉同时存在</span></span><br><span class="line">        actions: &lt;Widget&gt;[</span><br><span class="line">          IconButton(icon: <span class="keyword">const</span> Icon(Icons.share), onPressed: () &#123;&#125;),</span><br><span class="line">          IconButton(icon: <span class="keyword">const</span> Icon(Icons.more_horiz), onPressed: () &#123;&#125;),</span><br><span class="line">        ],</span><br><span class="line">        <span class="comment">// 通常放TabBar(TabBar组件必须要设置controller参数): 标题下面显示一个 Tab 导航栏</span></span><br><span class="line">        bottom: TabBar(</span><br><span class="line">          controller: _tabController,</span><br><span class="line">          isScrollable: <span class="keyword">true</span>, <span class="comment">// 是否可滚动</span></span><br><span class="line">          labelColor: Colors.white, <span class="comment">// 选中label颜色</span></span><br><span class="line">          <span class="comment">// unselectedLabelColor: Colors.black54, // 未选中label颜色</span></span><br><span class="line">          indicatorColor: Colors.white, <span class="comment">// 指示器(文字下面的选中下划线)颜色</span></span><br><span class="line">          <span class="comment">// indicatorWeight: 4, // 指示器高度</span></span><br><span class="line">          <span class="comment">// indicatorSize: TabBarIndicatorSize.label, // label 指示器宽度和文字宽度一致, tab 跟每个tab等宽</span></span><br><span class="line">          <span class="comment">// indicatorPadding: const EdgeInsets.symmetric(horizontal: 0), // 指示器左右内边距(12接近一个点)</span></span><br><span class="line">          <span class="comment">// indicator: const UnderlineTabIndicator(</span></span><br><span class="line">          <span class="comment">//   borderSide: BorderSide(width: 4.0, color: Colors.white), // 下划线边框</span></span><br><span class="line">          <span class="comment">// ),</span></span><br><span class="line">          tabs: <span class="keyword">const</span> [</span><br><span class="line">            Tab(icon: Icon(Icons.home), text: <span class="string">"首页"</span>),</span><br><span class="line">            Tab(child: Text(<span class="string">"热点"</span>),),</span><br><span class="line">            Tab(child: Text(<span class="string">"视频"</span>),),</span><br><span class="line">          ],</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// TabBarView 配合 TabBar 使用时, 必须要设置 controller 参数, 否则会报错</span></span><br><span class="line">      body: TabBarView(</span><br><span class="line">        controller: _tabController,</span><br><span class="line">        children: <span class="keyword">const</span> [HomePage(), Text(<span class="string">"热点"</span>), Text(<span class="string">"视频"</span>),]</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>home.dart</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'../tool/keep_alive_wrapper.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomePage</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> HomePage(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;HomePage&gt; createState() =&gt; _HomePageState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_HomePageState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">HomePage</span>&gt; <span class="title">with</span> <span class="title">SingleTickerProviderStateMixin</span> </span>&#123;</span><br><span class="line">  late TabController _tabController;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _tabController = TabController(length: <span class="number">8</span>, vsync: <span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> dispose() &#123;</span><br><span class="line">    <span class="keyword">super</span>.dispose();</span><br><span class="line">    _tabController.dispose();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">List</span>&lt;Widget&gt; _initListView() &#123;</span><br><span class="line">    <span class="built_in">List</span>&lt;Widget&gt; list = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">      list.add(Text(<span class="string">"这是第 $i 行"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// Scaffold 中可以嵌套 Scaffold, 此处定义 appBar 的标题为 TabBar 实现了 Tab 导航</span></span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      <span class="comment">// PreferredSize可 以改变 AppBar 的高度</span></span><br><span class="line">      appBar: PreferredSize(</span><br><span class="line">        preferredSize: <span class="keyword">const</span> Size.fromHeight(<span class="number">50</span>),</span><br><span class="line">        child: AppBar(</span><br><span class="line">          <span class="comment">// MaterialApp.theme 优化 TabBar 组件样式</span></span><br><span class="line">            <span class="comment">// useMaterial3: false, // 默认 useMaterial3: true 会导致TabBar组件样式出现下划线, 并且滚动TAB前面会有一部分空白</span></span><br><span class="line">            <span class="comment">// tabBarTheme: const TabBarTheme(dividerColor: Colors.transparent) // 去掉 TabBar 组件的下划线</span></span><br><span class="line">          title: TabBar(</span><br><span class="line">            controller: _tabController,</span><br><span class="line">            isScrollable: <span class="keyword">true</span>,</span><br><span class="line">            labelColor: Colors.white,</span><br><span class="line">            indicatorColor: Colors.white,</span><br><span class="line">            tabs: <span class="keyword">const</span> [</span><br><span class="line">              Tab(child: Text(<span class="string">"视频1"</span>),),</span><br><span class="line">              Tab(child: Text(<span class="string">"视频2"</span>),),</span><br><span class="line">              Tab(child: Text(<span class="string">"视频3"</span>),),</span><br><span class="line">              Tab(child: Text(<span class="string">"视频4"</span>),),</span><br><span class="line">              Tab(child: Text(<span class="string">"视频5"</span>),),</span><br><span class="line">              Tab(child: Text(<span class="string">"视频6"</span>),),</span><br><span class="line">              Tab(child: Text(<span class="string">"视频7"</span>),),</span><br><span class="line">              Tab(child: Text(<span class="string">"视频8"</span>),),</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">      body: TabBarView(</span><br><span class="line">        controller: _tabController,</span><br><span class="line">        children: [</span><br><span class="line">          <span class="comment">// 缓存当前内容, 这样切换到其他 TAB 再返回时, 内容不会重新加载(滚动条显示的位置仍然是之前滚动到的位置)</span></span><br><span class="line">          KeepAliveWrapper(</span><br><span class="line">            child: ListView(</span><br><span class="line">              children: _initListView(),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          <span class="keyword">const</span> Text(<span class="string">"视频2"</span>),</span><br><span class="line">          <span class="keyword">const</span> Text(<span class="string">"视频3"</span>),</span><br><span class="line">          <span class="keyword">const</span> Text(<span class="string">"视频4"</span>),</span><br><span class="line">          <span class="keyword">const</span> Text(<span class="string">"视频5"</span>),</span><br><span class="line">          <span class="keyword">const</span> Text(<span class="string">"视频6"</span>),</span><br><span class="line">          <span class="keyword">const</span> Text(<span class="string">"视频7"</span>),</span><br><span class="line">          <span class="keyword">const</span> Text(<span class="string">"视频8"</span>),</span><br><span class="line">        ]</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Dialog弹框"><a href="#Dialog弹框" class="headerlink" title="Dialog弹框"></a>Dialog弹框</h3><ul><li><code>showDialog</code> 方法弹出弹窗</li><li><code>Navigator.of(context).pop(&quot;ok&quot;);</code> 关闭弹框并返回参数</li><li>SimpleDialog 和 SimpleDialogOption 实现弹框选择器</li><li><code>showModalBottomSheet</code> 方法实现底部弹窗</li><li>基于插件实现 toastr 轻提示<ul><li>基于 fluttertoast 插件实现. <a href="https://pub.dev/packages/fluttertoast" target="_blank" rel="noopener">https://pub.dev/packages/fluttertoast</a></li><li>支持 LINUX MACOS WEB WINDOWS 的另一个插件 <a href="https://pub.dev/packages/ftoast" target="_blank" rel="noopener">https://pub.dev/packages/ftoast</a></li></ul></li><li>自定义弹框: 继承 Dialog 进行组件渲染, 并通过 showDialog 弹出</li><li>main18</li></ul><p><img src="../../data/images/2024/flutter/Dialog.png" alt="Dialog"></p><ul><li>main.dart</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:fluttertoast/fluttertoast.dart'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./demo18/myDialog.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> main() &#123;</span><br><span class="line">  runApp(<span class="keyword">const</span> MyApp());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyApp</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyApp(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> MaterialApp(</span><br><span class="line">      theme: ThemeData(</span><br><span class="line">        useMaterial3: <span class="keyword">false</span>,</span><br><span class="line">      ),</span><br><span class="line">      home: Scaffold(</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">"App Name"</span>),</span><br><span class="line">        ),</span><br><span class="line">        body: <span class="keyword">const</span> MyIndex(),</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIndex</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyIndex(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 显示 AlertDialog 弹窗</span></span><br><span class="line">  <span class="keyword">void</span> _showDialog(BuildContext context) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">      barrierDismissible: <span class="keyword">true</span>, <span class="comment">// 表示点击灰色背景的时候是否消失弹出框, 默认 true</span></span><br><span class="line">      context: context,</span><br><span class="line">      builder: (BuildContext context) &#123;</span><br><span class="line">        <span class="keyword">return</span> AlertDialog(</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">"提示"</span>),</span><br><span class="line">          content: <span class="keyword">const</span> Text(<span class="string">"这是一个 AlertDialog 弹窗"</span>),</span><br><span class="line">          actions: [</span><br><span class="line">            TextButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                Navigator.of(context).pop(<span class="string">"ok"</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"确定"</span>),</span><br><span class="line">            ),</span><br><span class="line">            TextButton(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                Navigator.of(context).pop(<span class="string">"cancel"</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"取消"</span>),</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"_showDialog result: $result"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 显示 SimpleDialog 弹窗</span></span><br><span class="line">  <span class="keyword">void</span> _showSimpleDialog(BuildContext context) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">      context: context,</span><br><span class="line">      builder: (BuildContext context) &#123;</span><br><span class="line">        <span class="keyword">return</span> SimpleDialog(</span><br><span class="line">          title: <span class="keyword">const</span> Text(<span class="string">"请选择"</span>),</span><br><span class="line">          children: [</span><br><span class="line">            SimpleDialogOption(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                Navigator.of(context).pop(<span class="string">"option1"</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"选项1"</span>),</span><br><span class="line">            ),</span><br><span class="line">            SimpleDialogOption(</span><br><span class="line">              onPressed: () &#123;</span><br><span class="line">                Navigator.of(context).pop(<span class="string">"option2"</span>);</span><br><span class="line">              &#125;,</span><br><span class="line">              child: <span class="keyword">const</span> Text(<span class="string">"选项2"</span>),</span><br><span class="line">            ),</span><br><span class="line">          ],</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"_showSimpleDialog result: $result"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 显示 showModalBottomSheet 弹窗</span></span><br><span class="line">  <span class="keyword">void</span> _showModalBottomSheet(BuildContext context) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> result = <span class="keyword">await</span> showModalBottomSheet(</span><br><span class="line">      context: context,</span><br><span class="line">      builder: (BuildContext context) &#123;</span><br><span class="line">        <span class="keyword">return</span> SizedBox(</span><br><span class="line">          height: <span class="number">200</span>,</span><br><span class="line">          child: Column(</span><br><span class="line">            children: [</span><br><span class="line">              <span class="keyword">const</span> Text(<span class="string">"这是一个 showModalBottomSheet 弹窗"</span>),</span><br><span class="line">              ElevatedButton(onPressed: () =&gt; Navigator.of(context).pop(<span class="string">"close"</span>), child: <span class="keyword">const</span> Text(<span class="string">"关闭"</span>))</span><br><span class="line">            ],</span><br><span class="line">          )</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"_showModalBottomSheet result: $result"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 显示 FlutterToast 弹窗</span></span><br><span class="line">  <span class="keyword">void</span> _showToast(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// 基于 fluttertoast 插件实现. https://pub.dev/packages/fluttertoast</span></span><br><span class="line">    <span class="comment">// 支持 LINUX MACOS WEB WINDOWS 的另一个插件 https://pub.dev/packages/ftoast</span></span><br><span class="line">    Fluttertoast.showToast(</span><br><span class="line">      msg: <span class="string">"This is Center Short Toast"</span>,</span><br><span class="line">      toastLength: Toast.LENGTH_SHORT, <span class="comment">// Android平台生效, 弹窗显示时间长度(长的 5s, 短的 2s)</span></span><br><span class="line">      gravity: ToastGravity.CENTER,</span><br><span class="line">      timeInSecForIosWeb: <span class="number">1</span>, <span class="comment">// 仅在 iOS 和 Web 平台生效</span></span><br><span class="line">      backgroundColor: Colors.red,</span><br><span class="line">      textColor: Colors.white,</span><br><span class="line">      fontSize: <span class="number">16.0</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 显示自定义弹框</span></span><br><span class="line">  <span class="keyword">void</span> _showMyDialog(BuildContext context) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> result = <span class="keyword">await</span> showDialog(</span><br><span class="line">      context: context,</span><br><span class="line">      builder: (BuildContext context) &#123;</span><br><span class="line">        <span class="keyword">return</span> MyDialog(</span><br><span class="line">          title: <span class="string">"提示"</span>,</span><br><span class="line">          content: <span class="string">"这是一个自定义弹框"</span>,</span><br><span class="line">          onOk: () =&gt; Navigator.of(context).pop(<span class="string">"ok"</span>),</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    );</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"_showMyDialog result: $result"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Center(</span><br><span class="line">      child: Column(</span><br><span class="line">        children: [</span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              _showDialog(context);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">"普通弹框"</span>),</span><br><span class="line">          ),</span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              _showSimpleDialog(context);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">"弹框选择器"</span>),</span><br><span class="line">          ),</span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              _showModalBottomSheet(context);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">"底部弹出"</span>),</span><br><span class="line">          ),</span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              _showToast(context);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">"提示插件"</span>),</span><br><span class="line">          ),</span><br><span class="line">          ElevatedButton(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              _showMyDialog(context);</span><br><span class="line">            &#125;,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">"自定义弹框"</span>),</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>myDialog.dart</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:async'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDialog</span> <span class="keyword">extends</span> <span class="title">Dialog</span> </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> title;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> content;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Function</span>()? onOk;</span><br><span class="line">  <span class="keyword">const</span> MyDialog(&#123;<span class="keyword">super</span>.key, required <span class="keyword">this</span>.title, required <span class="keyword">this</span>.content, <span class="keyword">this</span>.onOk&#125;);</span><br><span class="line"></span><br><span class="line">  _showTimer(context) &#123;</span><br><span class="line">    <span class="comment">// Timer 必须引入 import 'dart:async';</span></span><br><span class="line">    Timer.periodic(<span class="keyword">const</span> <span class="built_in">Duration</span>(milliseconds: <span class="number">3000</span>), (t) &#123;</span><br><span class="line">        Navigator.of(context).pop(<span class="string">'timer close'</span>);</span><br><span class="line">        t.cancel();</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="comment">// 设置定时器自动关闭</span></span><br><span class="line">    _showTimer(context);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Material(</span><br><span class="line">      type: MaterialType.transparency, <span class="comment">// 设置为透明材质</span></span><br><span class="line">      child: Center(</span><br><span class="line">        child: Container(</span><br><span class="line">          width: <span class="number">300</span>, <span class="comment">// 必须定义宽高，否则时占满全屏</span></span><br><span class="line">          height: <span class="number">200</span>,</span><br><span class="line">          decoration: BoxDecoration(</span><br><span class="line">            borderRadius: BorderRadius.circular(<span class="number">4</span>),</span><br><span class="line">            color: Colors.white,</span><br><span class="line">          ),</span><br><span class="line">          child: Column(</span><br><span class="line">            children: [</span><br><span class="line">              Padding(</span><br><span class="line">                padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">10</span>),</span><br><span class="line">                child: Row(</span><br><span class="line">                  children: [</span><br><span class="line">                    Expanded(child: Container()),</span><br><span class="line">                    Text(title, style: <span class="keyword">const</span> TextStyle(fontSize: <span class="number">16</span>, fontWeight: FontWeight.bold),),</span><br><span class="line">                    Expanded(</span><br><span class="line">                      child: Align(</span><br><span class="line">                        alignment: Alignment.centerRight,</span><br><span class="line">                        <span class="comment">// child: IconButton(</span></span><br><span class="line">                        <span class="comment">//   icon: const Icon(Icons.close),</span></span><br><span class="line">                        <span class="comment">//   onPressed: onOk,</span></span><br><span class="line">                        <span class="comment">// ),</span></span><br><span class="line">                        <span class="comment">// InkWell 通用包装组件, 实现点击事件</span></span><br><span class="line">                        child: InkWell(</span><br><span class="line">                          onTap: onOk,</span><br><span class="line">                          child: <span class="keyword">const</span> Icon(Icons.close),</span><br><span class="line">                        ),</span><br><span class="line">                      )</span><br><span class="line">                    ),</span><br><span class="line">                  ],</span><br><span class="line">                ),</span><br><span class="line">              ),</span><br><span class="line">              <span class="keyword">const</span> Divider(color: Colors.black12, thickness: <span class="number">0.5</span>,),</span><br><span class="line">              Text(content)</span><br><span class="line">            ],</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      )</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="PageView上下左右滑页切换及轮播图组件"><a href="#PageView上下左右滑页切换及轮播图组件" class="headerlink" title="PageView上下左右滑页切换及轮播图组件"></a>PageView上下左右滑页切换及轮播图组件</h3><ul><li>main19/pageView5.dart</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'dart:async'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'package:flutter/material.dart'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPageView5</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> MyPageView5(&#123;<span class="keyword">super</span>.key&#125;);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;MyPageView5&gt; createState() =&gt; _MyPageView5State();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_MyPageView5State</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">MyPageView5</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; _imageUrls = [</span><br><span class="line">    <span class="string">"https://s21.ax1x.com/2025/10/15/pVqQY5D.png"</span>,</span><br><span class="line">    <span class="string">"https://s21.ax1x.com/2025/10/15/pVqQNPe.png"</span>,</span><br><span class="line">    <span class="string">"https://s21.ax1x.com/2025/10/15/pVqQGVK.png"</span>,</span><br><span class="line">  ];</span><br><span class="line"></span><br><span class="line">  <span class="built_in">int</span> _currentPage = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// 添加 PageController 控制页面</span></span><br><span class="line">  late PageController _pageController;</span><br><span class="line">  late Timer _timer;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化 PageController，设置初始页面为一个很大的值，以便可以向左滑动</span></span><br><span class="line">    _pageController = PageController(initialPage: _imageUrls.length * <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 启动自动轮播</span></span><br><span class="line">    _startAutoPlay();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _startAutoPlay() &#123;</span><br><span class="line">    _timer = Timer.periodic(<span class="keyword">const</span> <span class="built_in">Duration</span>(seconds: <span class="number">3</span>), (timer) &#123;</span><br><span class="line">      _pageController.nextPage(</span><br><span class="line">        duration: <span class="keyword">const</span> <span class="built_in">Duration</span>(milliseconds: <span class="number">300</span>),</span><br><span class="line">        curve: Curves.easeInOut,</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: <span class="keyword">const</span> Text(<span class="string">"无限轮播图(自动轮播)"</span>),</span><br><span class="line">      ),</span><br><span class="line">      body: Stack(</span><br><span class="line">        children: [</span><br><span class="line">          SizedBox(</span><br><span class="line">            height: <span class="number">200</span>,</span><br><span class="line">            child: PageView.builder(</span><br><span class="line">              <span class="comment">// 设置为循环滚动</span></span><br><span class="line">              allowImplicitScrolling: <span class="keyword">true</span>,</span><br><span class="line">              controller: _pageController,</span><br><span class="line">              <span class="comment">// 页面改变时调用</span></span><br><span class="line">              onPageChanged: (index) &#123;</span><br><span class="line">                <span class="comment">// 更新当前页面索引（对实际图片数量取模）</span></span><br><span class="line">                setState(() &#123;</span><br><span class="line">                  _currentPage = index % _imageUrls.length;</span><br><span class="line">                &#125;);</span><br><span class="line">              &#125;,</span><br><span class="line">              itemBuilder: (context, index) &#123;</span><br><span class="line">                <span class="comment">// 对实际图片数量取模，实现无限循环</span></span><br><span class="line">                <span class="keyword">final</span> realIndex = index % _imageUrls.length;</span><br><span class="line">                <span class="keyword">return</span> Image.network(_imageUrls[realIndex], fit: BoxFit.cover);</span><br><span class="line">              &#125;,</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">          <span class="comment">// 指示器</span></span><br><span class="line">          Positioned(</span><br><span class="line">            top: <span class="number">180</span>,</span><br><span class="line">            left: <span class="number">0</span>,</span><br><span class="line">            right: <span class="number">0</span>,</span><br><span class="line">            child: Row(</span><br><span class="line">              mainAxisAlignment: MainAxisAlignment.center,</span><br><span class="line">              children: <span class="built_in">List</span>.generate(_imageUrls.length, (index) &#123;</span><br><span class="line">                <span class="keyword">return</span> Container(</span><br><span class="line">                  width: <span class="number">8</span>,</span><br><span class="line">                  height: <span class="number">8</span>,</span><br><span class="line">                  margin: <span class="keyword">const</span> EdgeInsets.symmetric(horizontal: <span class="number">4</span>),</span><br><span class="line">                  decoration: BoxDecoration(</span><br><span class="line">                    shape: BoxShape.circle,</span><br><span class="line">                    color: _currentPage == index ? Colors.blue : Colors.grey,</span><br><span class="line">                  ),</span><br><span class="line">                );</span><br><span class="line">              &#125;),</span><br><span class="line">            ),</span><br><span class="line">          )</span><br><span class="line">        ],</span><br><span class="line">      ),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> dispose() &#123;</span><br><span class="line">    <span class="keyword">super</span>.dispose();</span><br><span class="line">    _timer.cancel();</span><br><span class="line">    _pageController.dispose();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="InkWell"><a href="#InkWell" class="headerlink" title="InkWell"></a>InkWell</h3><ul><li>InkWell 通用包装组件, 实现点击事件</li></ul><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">InkWell(</span><br><span class="line">    onTap: () &#123;&#125;,</span><br><span class="line">    child: <span class="keyword">const</span> Icon(Icons.close),</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h2 id="Dart案例"><a href="#Dart案例" class="headerlink" title="Dart案例"></a>Dart案例</h2></div><div></div><div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> smalle</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="http://blog.aezo.cn/2019/11/22/mobile/flutter/" title="Flutter">http://blog.aezo.cn/2019/11/22/mobile/flutter/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"> <a href="/tags/mobile/" rel="tag"># mobile</a> <a href="/tags/App/" rel="tag"># App</a> <a href="/tags/dart/" rel="tag"># dart</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/11/14/devops/ceph/" rel="next" title="Ceph"><i class="fa fa-chevron-left"></i> Ceph</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"> <a href="/2019/11/22/db/LDAP/" rel="prev" title="LDAP">LDAP<i class="fa fa-chevron-right"></i></a></div></div></footer></article><div class="post-spread"><div> <a target="_blank" href="https://github.com/oldinaction/ChatGPT-MP"><img class="nofancybox" style="width:300px;margin:0 auto" src="https://cdn7.aezo.cn/one/chat/chat-gpt-open-banner.jpg" alt="ChatGPT开源小程序" title="ChatGPT开源小程序"></a></div></div></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span><span class="sidebar-toggle-line sidebar-toggle-line-middle"></span><span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap"> 文章目录</li><li class="sidebar-nav-overview" data-target="site-overview"> 站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" src="https://avatars0.githubusercontent.com/u/15698218?v=3&u=ce740bf0b67ff0d74990ba6fc644d6e92f572dcb&s=400" alt="smalle"><p class="site-author-name" itemprop="name">smalle</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">168</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/index.html"><span class="site-state-item-count">14</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/index.html"><span class="site-state-item-count">153</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"></div><div> 欢迎关注公众号：阿壹族 <img class="nofancybox" style="width:120px;margin:0 auto" src="https://cdn7.aezo.cn/common/qrcode/ayz_qrcode.jpg" alt="欢迎关注公众号：阿壹族" title="欢迎关注公众号：阿壹族"></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#简介"><span class="nav-number">1.</span> <span class="nav-text">简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装及运行"><span class="nav-number">2.</span> <span class="nav-text">安装及运行</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安装"><span class="nav-number">2.1.</span> <span class="nav-text">安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Mac安装"><span class="nav-number">2.2.</span> <span class="nav-text">Mac安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运行-vscode"><span class="nav-number">2.3.</span> <span class="nav-text">运行(vscode)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#flutter-命令"><span class="nav-number">2.4.</span> <span class="nav-text">flutter 命令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flutter语法"><span class="nav-number">3.</span> <span class="nav-text">Flutter语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#路由"><span class="nav-number">3.1.</span> <span class="nav-text">路由</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Key"><span class="nav-number">3.2.</span> <span class="nav-text">Key</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#动画"><span class="nav-number">3.3.</span> <span class="nav-text">动画</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dart语法"><span class="nav-number">4.</span> <span class="nav-text">Dart语法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#变量定义"><span class="nav-number">4.1.</span> <span class="nav-text">变量定义</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象类型"><span class="nav-number">4.2.</span> <span class="nav-text">对象类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#流程控制"><span class="nav-number">4.3.</span> <span class="nav-text">流程控制</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flutter基础案例"><span class="nav-number">5.</span> <span class="nav-text">Flutter基础案例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#目录结构-amp-入口文件"><span class="nav-number">5.1.</span> <span class="nav-text">目录结构&amp;入口文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#MaterialApp和StatelessWidget"><span class="nav-number">5.2.</span> <span class="nav-text">MaterialApp和StatelessWidget</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Container容器和Text文本"><span class="nav-number">5.3.</span> <span class="nav-text">Container容器和Text文本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Paddiing-SizedBox-AspectRatio组件"><span class="nav-number">5.4.</span> <span class="nav-text">Paddiing,SizedBox,AspectRatio组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Image图片使用"><span class="nav-number">5.5.</span> <span class="nav-text">Image图片使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Icon图标使用及IconData自定义图标"><span class="nav-number">5.6.</span> <span class="nav-text">Icon图标使用及IconData自定义图标</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ListView列表组件"><span class="nav-number">5.7.</span> <span class="nav-text">ListView列表组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GridView网格组件"><span class="nav-number">5.8.</span> <span class="nav-text">GridView网格组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Row-Column-Wrap线性布局"><span class="nav-number">5.9.</span> <span class="nav-text">Row,Column,Wrap线性布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Flex和Expanded弹性布局"><span class="nav-number">5.10.</span> <span class="nav-text">Flex和Expanded弹性布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Stack-Positioned-Align层叠布局"><span class="nav-number">5.11.</span> <span class="nav-text">Stack,Positioned,Align层叠布局</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Card卡片"><span class="nav-number">5.12.</span> <span class="nav-text">Card卡片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ElevatedButton等按钮组件"><span class="nav-number">5.13.</span> <span class="nav-text">ElevatedButton等按钮组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#StatelessWidget-StatefulWidget状态组件"><span class="nav-number">5.14.</span> <span class="nav-text">StatelessWidget,StatefulWidget状态组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Scaffold骨架组件"><span class="nav-number">5.15.</span> <span class="nav-text">Scaffold骨架组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#AppBar-TabBar导航栏"><span class="nav-number">5.16.</span> <span class="nav-text">AppBar,TabBar导航栏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Dialog弹框"><span class="nav-number">5.17.</span> <span class="nav-text">Dialog弹框</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PageView上下左右滑页切换及轮播图组件"><span class="nav-number">5.18.</span> <span class="nav-text">PageView上下左右滑页切换及轮播图组件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#InkWell"><span class="nav-number">5.19.</span> <span class="nav-text">InkWell</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dart案例"><span class="nav-number">6.</span> <span class="nav-text">Dart案例</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright"> &copy; 2016 - <span itemprop="copyrightYear">2025</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">smalle</span>&nbsp;&nbsp;&nbsp;&nbsp;<div class="powered-by"> 由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="powered-by"> 主题 - <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a></div><div class="theme-info"> <a class="theme-link" target="_blank" href="https://tongji.baidu.com/main/overview/10000542408/overview/index?siteId=18991897">站长统计</a></div></div><div class="ad"> <span style="font-weight:700">AD&nbsp;&nbsp;&nbsp;&nbsp;</span><div class="theme-info"> <a target="_blank" href="https://promotion.aliyun.com/ntms/yunparter/invite.html?userCode=oby5nolb">阿里云大礼包</a></div></div><div class="aezocn"> <span style="font-weight:700">&copy;AEZO.CN&nbsp;&nbsp;&nbsp;&nbsp;</span><div class="powered-by"> <a target="_blank" href="https://shengqitech.aezo.cn/">圣骑科技</a></div><div class="powered-by"> <a target="_blank" href="https://cdn7.aezo.cn/common/qrcode/one_qrcode.jpg">【One能抽屉】小程序</a></div><div class="theme-info"> <a target="_blank" href="http://shop.aezo.cn/">杂货铺(省钱小助手)</a></div></div><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?085f9cd91ef2ad985f791c677472f0d1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script><script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.1"></script><script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.1"></script></body></html>